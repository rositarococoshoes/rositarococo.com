<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-W2CVWDJ');</script>
    <!-- End Google Tag Manager -->

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Rosita Rococ√≥ | Cat√°logo Oto√±o-Invierno 2025</title>
    <meta name="description" content="Descubre la nueva colecci√≥n Oto√±o Invierno 2025 de Rosita Rococ√≥. Borcegos y botas de cuero con env√≠o gratis y cuotas sin inter√©s. ¬°Compr√° online!">

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

    <!-- Slick Carousel CSS -->
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- jQuery UI CSS (Optional, for autocomplete styling) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/themes/base/jquery-ui.min.css">


    <style type="text/css">
      /* Base styles with minimalist approach */
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      html { scroll-behavior: smooth; }

      body {
        font-family: 'Montserrat', sans-serif;
        background-color: #f8f4ee; /* Light Beige */
        color: #5a4a42; /* Dark Brown */
        line-height: 1.6;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        /* Subtle texture */
        background-image: url('data:image/svg+xml;utf8,<svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path fill="%23d4a373" fill-opacity="0.03" d="M0 0h100v100H0z"/></svg>');
      }

      img {
        max-width: 100%;
        height: auto;
        display: block;
      }

      /* Enhanced autumnal color palette */
      :root {
        --primary: #8b5a2b; /* Dark Sienna */
        --secondary: #a67c52; /* Muted Tan */
        --accent: #d4a373; /* Warm Beige/Accent */
        --light: #f8f4ee; /* Light Beige Background */
        --dark: #5a4a42; /* Dark Brown Text */
        --highlight: #e6b17e; /* Lighter Accent */
        --text: #3a2e26; /* Slightly Darker Text */
        --border: rgba(139, 90, 43, 0.15); /* Subtle Border */
        --card-bg: #ffffff; /* White card background */
        --error: #c45c40; /* Error Red */
        --success: #5a8b2b; /* Success Green */
        --warning-bg: #fff3cd;
        --warning-text: #856404;
        --warning-border: #ffeeba;
        --info-bg: #e2f3fd;
        --info-text: #0c5460;
        --info-border: #b8daff;
        --success-bg: #d4edda;
        --success-text: #155724;
        --success-border: #c3e6cb;
        --error-bg: #f8d7da;
        --error-text: #721c24;
        --error-border: #f5c6cb;
        --border-radius: 6px;
        --section-spacing: 40px;
      }

      /* Main container */
      .container {
        max-width: 1100px;
        margin: 0 auto;
        padding: 0 15px;
      }

      /* Header - minimalist approach */
      .header {
        background-color: var(--primary);
        color: white;
        padding: 25px 0;
        text-align: center;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        margin-bottom: var(--section-spacing);
      }
      .header img.logo { max-width: 200px; margin: 0 auto 15px auto; } /* Logo style */

      .header h1 {
        font-size: 1.9rem;
        margin-bottom: 8px;
        font-weight: 500;
        letter-spacing: 0.5px;
      }

      .header p {
        font-size: 1.05rem;
        opacity: 0.9;
        font-weight: 300;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
      }
      .header .emoji { font-size: 1.1em; vertical-align: -0.1em; }
      #fechahoy { color: var(--primary); background-color: var(--light); padding: 5px 12px; font-weight: bold; text-align: center; font-size: 0.9em; margin: 15px auto 0 auto; border-radius: 20px; display: inline-block; border: 1px solid var(--border); }

      /* Offer banner & Price Summary */
      .offer-banner, .price-summary-box {
        background-color: var(--accent);
        color: white;
        text-align: center;
        padding: 14px;
        margin-bottom: var(--section-spacing);
        border-radius: var(--border-radius);
        font-weight: 500;
        font-size: 1.05em;
      }
      .offer-banner .emoji { margin: 0 5px; vertical-align: -0.1em; }

      .price-summary-box {
        background-color: var(--light);
        border: 1px solid var(--border);
        color: var(--text);
        padding: 20px;
      }
      .price-summary-box p:first-child { margin: 0 0 15px 0; font-size: 1.1em; font-weight: bold; color: var(--primary); }
      .price-summary-box .price-line { font-size: 1.2em; font-weight: bold; margin-bottom: 8px; color: var(--primary); }
      .price-summary-box .price-detail { font-size: 0.9em; color: #666; }
      .price-summary-box .discount-info { font-size: 0.9em; background-color: #fff; color: var(--text); padding: 4px 8px; border-radius: 4px; display: inline-block; margin: 8px 0 10px 0; border: 1px solid var(--border); }
      .price-summary-box .transfer-discount { color: var(--success); font-weight: bold; text-transform: uppercase; font-size: 0.95em; margin-top: 12px; display: block; }

      /* Info Section */
      .info-section { font-size: 0.95em; line-height: 1.7; margin-bottom: var(--section-spacing); padding: 25px; background-color: var(--card-bg); border: 1px solid var(--border); border-radius: var(--border-radius); }
      .info-section span { display: flex; align-items: baseline; margin-bottom: 10px; }
      .info-section small span { font-weight: bold; color: var(--primary); }
      .info-section .emoji { margin-right: 10px; font-size: 1.1em; min-width: 1.2em; display: inline-block; text-align: center; vertical-align: -0.1em; }

      /* How to Buy */
      .how-to-buy { margin-bottom: var(--section-spacing); background-color: var(--card-bg); padding: 25px; border: 1px solid var(--border); border-radius: var(--border-radius); }
      .how-to-buy h3 { margin-bottom: 15px; color: var(--primary); font-size: 1.3em; }
      .how-to-buy ol { padding-left: 20px; margin: 0; font-size: 0.95em; }
      .how-to-buy li { margin-bottom: 8px; color: var(--text); }
      .how-to-buy li::marker { color: var(--primary); font-weight: bold; }
      .how-to-buy strong { color: var(--primary); }


      /* Section Heading */
      .section-heading {
        text-align: center;
        color: var(--primary);
        margin-bottom: 30px;
        font-size: 1.6rem;
        font-weight: 500;
        position: relative;
      }

      .section-heading::after {
        content: '';
        display: block;
        width: 60px;
        height: 2px;
        background: var(--accent);
        margin: 12px auto 0;
      }

      /* Models section */
      .model-section {
        margin-bottom: var(--section-spacing);
      }

      .model-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
        justify-content: center;
      }

      /* Model card - minimalist redesign */
      .model-card { /* Renamed from .contorno */
        background: var(--card-bg);
        border-radius: var(--border-radius);
        overflow: hidden;
        box-shadow: 0 3px 10px rgba(0,0,0,0.07);
        border: 1px solid var(--border);
        transition: all 0.3s ease;
        display: flex;
        flex-direction: column;
      }

      .model-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 15px rgba(0,0,0,0.1);
      }

      .model-carousel {
        position: relative;
        border-bottom: 1px solid var(--border);
      }

      .model-carousel .slick-slide img {
        width: 100%;
        height: 300px; /* Adjust height as needed */
        object-fit: cover;
        transition: transform 0.5s ease;
      }

      .model-card:hover .model-carousel img {
         /* transform: scale(1.03); */ /* Optional hover effect */
      }

      .model-info {
        padding: 20px;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
      }

      .model-info h3 {
        color: var(--primary);
        margin-bottom: 10px;
        font-size: 1.25rem;
        font-weight: 600;
      }

      .model-info p {
        margin-bottom: 10px;
        font-size: 0.95rem;
        color: var(--text);
        line-height: 1.5;
      }
      .model-info p.material { font-size: 0.9rem; color: #666; }

      .price {
        font-weight: 600;
        color: var(--accent);
        font-size: 1.15rem;
        margin-bottom: 5px;
      }

      .discount {
        color: var(--error);
        font-weight: 600;
        font-size: 0.9rem;
      }

      .model-info fieldset {
        border: none;
        padding: 0;
        margin-top: 15px;
        margin-bottom: 5px;
      }
      .model-info fieldset:last-of-type { margin-bottom: 0; }
      .fieldsetstalles { display: none; } /* Hide second size select initially */

      .model-info legend {
        font-weight: 600;
        font-size: 0.95rem;
        margin-bottom: 8px;
        padding: 0;
        color: var(--text);
        float: none; /* Override fieldset legend style */
        width: auto;
      }

      .model-info label {
        font-size: 0.95rem;
        margin-right: 15px;
        display: inline-flex;
        align-items: center;
        cursor: pointer;
      }
      .model-info input[type="radio"] {
        margin-right: 5px;
        accent-color: var(--primary);
      }

      .model-info select.talle {
        width: 100%;
        padding: 10px;
        border: 1px solid var(--border);
        border-radius: 4px;
        font-size: 0.95rem;
        margin-top: 5px;
        background-color: #fff;
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='%235a4a42' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 0.7rem center;
        background-size: 10px 10px;
        padding-right: 2rem;
      }
      .model-info select.talle:focus {
        outline: none;
        border-color: var(--accent);
      }
      .avisoagregado { color: var(--success); font-weight: bold; font-size: 0.9em; margin-top: 10px; text-align: center; }

      /* Form section - minimalist redesign */
      .form-section {
        background: var(--card-bg);
        padding: 30px 35px;
        border-radius: var(--border-radius);
        box-shadow: 0 3px 10px rgba(0,0,0,0.07);
        margin-bottom: var(--section-spacing);
        border: 1px solid var(--border);
        max-width: 650px;
        margin-left: auto;
        margin-right: auto;
        display: none; /* Hidden by default */
      }

      .form-group {
        margin-bottom: 22px;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        color: var(--text);
        font-size: 0.95rem;
      }

      .form-control {
        width: 100%;
        padding: 12px 14px;
        border: 1px solid var(--border);
        border-radius: 4px;
        font-size: 1rem;
        transition: border-color 0.3s ease;
        background-color: #fff;
      }
      .form-control[readonly] { background-color: #f8f6f2; opacity: 0.8; cursor: not-allowed; }
      select.form-control { height: auto; appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='%235a4a42' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 0.9rem center; background-size: 12px 12px; padding-right: 2.5rem; }


      .form-control:focus {
        outline: none;
        border-color: var(--accent);
        box-shadow: 0 0 0 2px rgba(212, 163, 115, 0.2); /* Subtle focus ring */
      }
      .help-block { font-size: 0.88em; color: #777; margin-top: 8px; }

      /* Order Summary in Form */
      #confirma-pedido { background-color: var(--light); padding: 20px; border-radius: var(--border-radius); border: 1px solid var(--border); margin-top: 25px; }
      #confirma-pedido h3 { font-size: 1.2em; margin-bottom: 20px; text-align: center; color: var(--primary); }
      #confirma-pedido .summary-item { margin-bottom: 10px; font-size: 0.95em; line-height: 1.5; }
      #confirma-pedido .summary-label { font-weight: bold; color: var(--text); margin-right: 6px; }
      #confirma-pedido .summary-value { color: var(--dark); word-break: break-word; }
      #preciototal { font-size: 1.2em; font-weight: bold; text-align: center; margin-top: 20px; padding-top: 20px; border-top: 1px dashed var(--border); }
      #preciototal .preciototalaobservar { color: var(--accent); }
      #preciototal .shipping-free { color: var(--success); font-size: 0.9em; font-weight: normal; display: inline-block; margin-left: 5px; }
      #preciototal .add-more-info { font-size: 0.85em; color: #6c757d; font-weight: normal; display: block; margin-top: 8px; }
      #confirma-pedido fieldset { margin-top: 25px; border-color: var(--secondary); background-color: #fff; padding: 15px; }
      #confirma-pedido legend { color: var(--primary); margin-bottom: 15px; font-size: 1.1em; }
      #comoabona { background-color: #fff; }
      .commitment-warning { text-align: center; margin: 25px 0; font-size: 0.95em; background-color: var(--warning-bg); padding: 12px; border-radius: var(--border-radius); border: 1px solid var(--warning-border); color: var(--warning-text); }
      .commitment-warning .emoji { font-size: 1.2em; vertical-align: -0.1em; }


      /* Buttons - minimalist style */
      .btn {
        display: inline-block;
        background: var(--primary);
        color: white;
        padding: 14px 28px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 1.05rem;
        text-align: center;
        transition: all 0.3s ease;
        font-weight: 500;
        letter-spacing: 0.5px;
      }

      .btn:hover {
        background: var(--secondary);
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      }
      .btn:disabled {
        background-color: #cccccc;
        cursor: not-allowed;
        opacity: 0.7;
        transform: none;
        box-shadow: none;
      }

      .btn-block {
        display: block;
        width: 100%;
      }
      #submit-btn .emoji { margin-left: 8px; vertical-align: -0.1em; }


      /* Testimonials */
      .testimonials-section {
        margin-bottom: var(--section-spacing);
        background-color: var(--card-bg);
        padding: 30px;
        border-radius: var(--border-radius);
        border: 1px solid var(--border);
      }

      .testimonials-carousel .slick-slide img {
        width: 100%;
        height: auto;
        max-height: 450px;
        object-fit: contain;
        border-radius: 4px;
        border: 1px solid #eee;
      }

      /* Footer - minimalist style */
      .footer {
        background-color: var(--primary);
        color: white;
        text-align: center;
        padding: 25px;
        margin-top: var(--section-spacing);
        font-size: 0.9rem;
        opacity: 0.95;
      }

      /* WhatsApp float */
      .whatsapp-float {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 100;
        transition: transform 0.3s ease;
      }

      .whatsapp-float:hover {
        transform: scale(1.1);
      }

      .whatsapp-float img {
        width: 55px;
        height: 55px;
        border-radius: 50%;
        box-shadow: 0 3px 12px rgba(0,0,0,0.2);
      }

      /* Slick Carousel Base Styles */
      .slick-slider { position: relative; display: block; box-sizing: border-box; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-touch-callout: none; -khtml-user-select: none; -ms-touch-action: pan-y; touch-action: pan-y; -webkit-tap-highlight-color: transparent; }
      .slick-list { position: relative; display: block; overflow: hidden; margin: 0; padding: 0; }
      .slick-list:focus { outline: none; }
      .slick-list.dragging { cursor: pointer; cursor: hand; }
      .slick-slider .slick-track, .slick-slider .slick-list { -webkit-transform: translate3d(0, 0, 0); -moz-transform: translate3d(0, 0, 0); -ms-transform: translate3d(0, 0, 0); -o-transform: translate3d(0, 0, 0); transform: translate3d(0, 0, 0); }
      .slick-track { position: relative; top: 0; left: 0; display: block; margin-left: auto; margin-right: auto; }
      .slick-track:before, .slick-track:after { display: table; content: ''; }
      .slick-track:after { clear: both; }
      .slick-loading .slick-track { visibility: hidden; }
      .slick-slide { display: none; float: left; height: 100%; min-height: 1px; }
      [dir='rtl'] .slick-slide { float: right; }
      .slick-slide img { display: block; }
      .slick-slide.slick-loading img { display: none; }
      .slick-slide.dragging img { pointer-events: none; }
      .slick-initialized .slick-slide { display: block; }
      .slick-loading .slick-slide { visibility: hidden; }
      .slick-vertical .slick-slide { display: block; height: auto; border: 1px solid transparent; }
      .slick-arrow.slick-hidden { display: none; }

      /* Slick Arrows */
      .slick-prev, .slick-next { font-size: 0; line-height: 0; position: absolute; top: 50%; display: block; width: 35px; height: 35px; padding: 0; -webkit-transform: translate(0, -50%); -ms-transform: translate(0, -50%); transform: translate(0, -50%); cursor: pointer; color: transparent; border: none; outline: none; background: rgba(255, 255, 255, 0.8); border-radius: 50%; z-index: 1; transition: background-color 0.2s ease; }
      .slick-prev:hover, .slick-prev:focus, .slick-next:hover, .slick-next:focus { color: transparent; outline: none; background: rgba(255, 255, 255, 1); }
      .slick-prev:hover:before, .slick-prev:focus:before, .slick-next:hover:before, .slick-next:focus:before { opacity: 1; }
      .slick-prev.slick-disabled:before, .slick-next.slick-disabled:before { opacity: .25; }
      .slick-prev:before, .slick-next:before { font-family: 'slick'; font-size: 18px; line-height: 1; opacity: .75; color: var(--primary); -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; transition: color 0.2s ease; }
      .slick-prev { left: 10px; } [dir='rtl'] .slick-prev { right: 10px; left: auto; }
      .slick-prev:before { content: '‚Üê'; } [dir='rtl'] .slick-prev:before { content: '‚Üí'; }
      .slick-next { right: 10px; } [dir='rtl'] .slick-next { right: auto; left: 10px; }
      .slick-next:before { content: '‚Üí'; } [dir='rtl'] .slick-next:before { content: '‚Üê'; }

      /* Slick Dots */
      .slick-dots { position: absolute; bottom: 15px; display: block; width: 100%; padding: 0; margin: 0; list-style: none; text-align: center; }
      .slick-dots li { position: relative; display: inline-block; width: 10px; height: 10px; margin: 0 5px; padding: 0; cursor: pointer; }
      .slick-dots li button { font-size: 0; line-height: 0; display: block; width: 10px; height: 10px; padding: 5px; cursor: pointer; color: transparent; border: 0; outline: none; background: transparent; }
      .slick-dots li button:hover, .slick-dots li button:focus { outline: none; }
      .slick-dots li button:hover:before, .slick-dots li button:focus:before { opacity: 1; }
      .slick-dots li button:before { font-family: 'slick'; font-size: 8px; line-height: 10px; position: absolute; top: 0; left: 0; width: 10px; height: 10px; content: '‚Ä¢'; text-align: center; opacity: .5; color: var(--primary); -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; transition: color 0.2s ease, opacity 0.2s ease; }
      .slick-dots li.slick-active button:before { opacity: 1; color: var(--accent); }


      /* Notification */
      #notification-container { position: fixed; bottom: 80px; /* Above whatsapp */ left: 15px; z-index: 999; width: calc(100% - 30px); max-width: 350px; pointer-events: none; }
      .notification { display: flex; align-items: center; padding: 12px 15px; background-color: white; box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15); border-radius: var(--border-radius); margin-bottom: 10px; opacity: 0; transform: translateY(20px); transition: opacity 0.4s ease, transform 0.4s ease; pointer-events: auto; border-left: 4px solid var(--success); }
      .notification.show { opacity: 1; transform: translateY(0); }
      .notification.error { border-left-color: var(--error); }
      .notification .icon { font-size: 1.5rem; margin-right: 12px; }
      .notification .icon.success { color: var(--success); }
      .notification .icon.error { color: var(--error); }
      .notification .order-info { flex-grow: 1; }
      .notification .order-info h3 { margin: 0 0 3px 0; font-size: 0.95rem; font-weight: 600; color: var(--text); }
      .notification .order-info p { margin: 0; font-size: 0.9rem; color: #555; }
      .notification .close { position: absolute; top: 8px; right: 8px; width: 20px; height: 20px; text-align: center; line-height: 18px; font-size: 14px; font-weight: bold; color: #aaa; cursor: pointer; background: #f0f0f0; border-radius: 50%; border: none; padding: 0; transition: background-color 0.2s, color 0.2s; }
      .notification .close:hover { color: #fff; background: #888; }

      /* Loading overlay */
      .loading-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(248, 244, 238, 0.9); backdrop-filter: blur(4px); z-index: 10001; align-items: center; justify-content: center; }
      .loading-content { background: white; padding: 30px 40px; border-radius: var(--border-radius); box-shadow: 0 4px 15px rgba(0,0,0,0.1); text-align: center; }
      .loading-spinner { width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid var(--accent); border-radius: 50%; margin: 0 auto 20px; animation: spin 1s linear infinite; }
      @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
      .loading-message { color: var(--text); font-size: 1.05rem; margin: 0; line-height: 1.4; }

      /* Error messages (General & WhatsApp) */
      .error-message {
        font-size: 0.85rem;
        margin-top: 6px;
        display: none; /* Hidden by default */
        font-weight: 500;
        padding: 8px 10px;
        border-radius: 4px;
        border: 1px solid transparent;
      }
      .error-message.show { display: block; } /* Class to show general errors */
      /* Specific WhatsApp validation states */
      .whatsapp-error-message { /* Use a specific class for WhatsApp */
          display: none;
          font-size: 0.9em;
          margin-top: 8px;
          padding: 10px 12px;
          border-radius: 4px;
          text-align: center;
          font-weight: 500;
          border: 1px solid transparent;
          transition: opacity 0.3s ease;
      }
      .whatsapp-error-message.verifying { display: block; background-color: var(--info-bg); color: var(--info-text); border-color: var(--info-border); animation: pulse 1.5s infinite ease-in-out; }
      .whatsapp-error-message.valid { display: block; background-color: var(--success-bg); color: var(--success-text); border-color: var(--success-border); }
      .whatsapp-error-message.invalid { display: block; background-color: var(--error-bg); color: var(--error-text); border-color: var(--error-border); }
      .whatsapp-error-message.api-error { display: block; background-color: var(--warning-bg); color: var(--warning-text); border-color: var(--warning-border); }
      @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }


      /* Bottom Summary Bar */
       #bottom-bar {
            display: none; /* Hidden initially */
            font-size: 12px;
            position: fixed;
            width: 100%;
            left: 0;
            padding: 10px 15px;
            min-height: 55px;
            bottom: 0;
            background-color: var(--dark); /* Darker background */
            color: var(--light);
            margin: 0;
            z-index: 998;
            border-top: 1px solid #4a3027;
            box-shadow: 0 -3px 10px rgba(0,0,0,0.15);
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
        }
         #bottom-bar-content {
             flex-grow: 1;
             flex-shrink: 1;
             overflow: hidden;
             line-height: 1.4;
         }
         #bottom-bar-content b { /* Label like "PEDIDO (1 par):" */
             display: block;
             font-size: 1em;
             margin-bottom: 2px;
             font-weight: bold;
             color: #fff;
             white-space: nowrap;
         }
         #bottom-bar-content span:not(#bottom-bar-price) { /* The summary text */
            display: block;
            white-space: normal;
            font-size: 0.9em; /* Smaller summary text */
         }
         #bottom-bar-price { /* Price in bar */
             font-weight: bold;
             color: var(--accent); /* Accent color for price */
             font-size: 1.1em;
             display: block;
             margin-top: 3px;
         }
         #bottom-bar-button { /* Button in bar */
            font-size: 13px;
            padding: 8px 14px;
            background-color: var(--accent);
            border: none;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            white-space: nowrap;
            transition: background-color 0.2s ease;
            flex-shrink: 0;
            font-weight: bold;
            margin-left: auto;
        }
         #bottom-bar-button:hover { background-color: var(--secondary); }


      /* Responsive styles */
      @media (max-width: 768px) {
        .container { padding: 0 10px; }
        .header h1 { font-size: 1.6rem; }
        .header p { font-size: 1rem; }
        .model-container { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
        .form-section { padding: 25px; }
        .section-heading { font-size: 1.4rem; }
        .slick-prev, .slick-next { width: 30px; height: 30px; }
        .slick-prev { left: 5px; } .slick-next { right: 5px; }
        .slick-prev:before, .slick-next:before { font-size: 16px; }
        .whatsapp-float { width: 50px; height: 50px; }
        #notification-container { max-width: 320px; bottom: 75px; }
        #bottom-bar { min-height: 50px; padding: 8px 10px; gap: 10px; }
        #bottom-bar-content { font-size: 11px; }
        #bottom-bar-button { font-size: 12px; padding: 7px 12px; }
      }

      @media (max-width: 480px) {
        body { font-size: 15px; }
        .header { padding: 20px 0; }
        .header h1 { font-size: 1.4rem; }
        .offer-banner { font-size: 1em; padding: 12px; }
        .model-container { grid-template-columns: 1fr; gap: 25px; }
        .model-info { padding: 15px; }
        .form-section { padding: 20px 15px; }
        .btn { padding: 12px 24px; font-size: 1rem; }
        .whatsapp-float { width: 48px; height: 48px; bottom: 15px; right: 15px; }
        #notification-container { bottom: 70px; left: 10px; width: calc(100% - 20px); max-width: none; }
        .notification { padding: 10px 12px; }
        .notification .icon { font-size: 1.3rem; margin-right: 10px; }
        .notification .order-info h3 { font-size: 0.9rem; }
        .notification .order-info p { font-size: 0.85rem; }
        #bottom-bar { /* Adjust bottom bar for small screens */
            min-height: 55px;
            padding: 10px 12px;
            flex-wrap: wrap; /* Allow wrapping if needed */
            gap: 5px 10px; /* Row and column gap */
            bottom: 0; /* Ensure it's at the very bottom */
        }
        #bottom-bar-content {
            flex-basis: 100%; /* Allow text to take full width if it wraps */
            text-align: center; /* Center text if wrapped */
            font-size: 11px; /* Keep small */
            order: 1; /* Text first */
        }
        #bottom-bar-content b { display: inline; margin-right: 5px; } /* Inline label */
        #bottom-bar-content span:not(#bottom-bar-price) { display: inline; } /* Inline summary */
        #bottom-bar-price { display: inline; margin-left: 5px; font-size: 1em; } /* Inline price */

        #bottom-bar-button {
            flex-basis: 100%; /* Button takes full width when wrapped */
            font-size: 13px; /* Make button slightly larger */
            padding: 9px 12px;
            margin-left: 0; /* Remove margin when full width */
            text-align: center;
            order: 2; /* Button second */
            margin-top: 5px; /* Add space when wrapped */
        }
        .whatsapp-float { bottom: 85px; /* INCREASED position due to potentially taller wrapped bottom bar */ }
        #notification-container { bottom: 100px; /* Adjust for potentially taller bar */ }

      }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W2CVWDJ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Top Promo Bar -->
    <div id="region" style="display: none;"></div>

    <div class="container">
        <header class="header">
            <img class="logo" alt="Rosita Rococ√≥ Logo" src="rosita-form.webp" loading="lazy"/>
            <h1><span class="emoji">üçÇ</span> Nueva Temporada <span class="emoji">üçÇ</span><br>Oto√±o Invierno 2025</h1>
            <p>
                 <span class="emoji">üí∞</span> DESCUENTO ESPECIAL llevando dos pares
                 <br> <span class="emoji">üí≥</span> 3 Cuotas sin inter√©s y <span class="emoji">üöö</span> Env√≠o GRATIS
            </p>
             <div id="fechahoy" style="display:none;"></div>
        </header>

        <!-- Initial Price Summary -->
        <section class="price-summary-box" aria-label="Resumen de Precios">
             <p>¬°Aprovech√° los precios de Lanzamiento!</p>
            <div class="price-line">1 par: üî• $70.000</div>
            <div class="price-line">2 pares: üî• $110.000 <span class="price-detail">($55.000 c/par)</span></div>
            <span class="discount-info">Pod√©s combinar modelos en tu mismo pedido</span>
            <p class="transfer-discount">10% OFF ADICIONAL por Transferencia</p>
        </section>

        <!-- Info Section -->
        <section class="info-section" aria-label="Informaci√≥n Importante">
             <span><span class="emoji">üöö</span> <small><span style="font-weight: 700;">ENV√çO GRATIS</span> a domicilio o sucursal.</small></span>
            if (selectedSize && productId && productName) {
                // For simplicity, assume selecting a size adds 1 item.
                // More complex logic needed if quantity radios affect this.
                updateCart(productId, productName, selectedSize, 1);
            } else {
                // Handle deselection if necessary (e.g., find previous selection and remove)
                // This part is complex if multiple size selects exist per product (for quantity > 1)
                // For now, assume selecting "-- Seleccione --" doesn't remove items automatically.
            }
        });

        // --- Form Validation & Submission ---
        const form = $('#checkoutForm');
        const submitButton = $('#submit-btn');
        const loadingOverlay = $('.loading-overlay');

        function showError(fieldId, message) {
            $(`#${fieldId}-error`).text(message).addClass('show');
            $(`#${fieldId}`).focus(); // Focus the field with error
        }

        function clearError(fieldId) {
            $(`#${fieldId}-error`).text('').removeClass('show');
        }

        function validateField(fieldId, validationFn, errorMessage) {
            clearError(fieldId);
            const value = $(`#${fieldId}`).val().trim();
            if (!validationFn(value)) {
                showError(fieldId, errorMessage);
                return false;
            }
            return true;
        }

        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(String(email).toLowerCase());
        }

        function validateWhatsApp(whatsapp) {
            // Basic check for 10 digits
            return /^\d{10}$/.test(whatsapp);
        }

        form.submit(function(e) {
            e.preventDefault(); // Prevent default form submission

            // Clear previous errors
            $('.error-message').removeClass('show');
            let isValid = true;

            // Validate fields
            isValid &= validateField('nombre', val => val.length > 0, 'Por favor ingresa tu nombre completo.');
            isValid &= validateField('email', validateEmail, 'Por favor ingresa un email v√°lido.');
            isValid &= validateField('whatsapp', validateWhatsApp, 'Ingresa 10 d√≠gitos (ej: 1127595502).');
            isValid &= validateField('direccion', val => val.length > 5, 'Por favor ingresa tu direcci√≥n completa.');
            isValid &= validateField('localidad', val => val.length > 1, 'Por favor ingresa tu localidad.');
            isValid &= validateField('provincia', val => val.length > 1, 'Por favor ingresa tu provincia.');
            isValid &= validateField('cp', val => val.length > 3, 'Por favor ingresa tu c√≥digo postal.');

            // Check if cart is empty
            if (Object.keys(cart).length === 0) {
                 showNotification('error', 'Tu carrito est√° vac√≠o. Selecciona un talle.');
                 isValid = false;
            }


            if (isValid) {
                // Anti-bot check
                 if ($('#website').val() !== '') {
                    console.log('Bot detected, submission cancelled.');
                    return false;
                }

                submitButton.prop('disabled', true).text('Procesando...');
                loadingOverlay.css('display', 'flex'); // Use flex for centering

                // Simulate form processing (replace with actual AJAX call)
                console.log("Form Data:", form.serialize());
                console.log("Cart Items:", cart);

                // Example: Send data via AJAX
                // $.ajax({
                //     url: 'YOUR_ENDPOINT_HERE', // Replace with your form processing URL
                //     method: 'POST',
                //     data: form.serialize(), // Sends form data including hidden cart input
                //     success: function(response) {
                //         loadingOverlay.hide();
                //         showNotification('success', '¬°Pedido enviado! Te contactaremos pronto.');
                //         form[0].reset(); // Reset form fields
                //         cart = {}; // Clear cart object
                //         updateCartInput(); // Clear hidden input
                //         submitButton.prop('disabled', false).text('FINALIZAR COMPRA');
                //     },
                //     error: function(xhr, status, error) {
                //         loadingOverlay.hide();
                //         showNotification('error', 'Error al enviar el pedido. Intenta de nuevo.');
                //         submitButton.prop('disabled', false).text('FINALIZAR COMPRA');
                //         console.error("Form submission error:", status, error);
                //     }
                // });

                // --- Simulation ---
                setTimeout(function() {
                    loadingOverlay.hide();
                    showNotification('success', '¬°Pedido enviado! Te contactaremos pronto.');
                    form[0].reset(); // Reset form fields
                    cart = {}; // Clear cart object
                    updateCartInput(); // Clear hidden input
                    submitButton.prop('disabled', false).text('FINALIZAR COMPRA');
                }, 2500);
                // --- End Simulation ---

            } else {
                 // Scroll to the first error? Optional.
                 const firstError = $('.error-message.show').first();
                 if (firstError.length) {
                     $('html, body').animate({
                         scrollTop: firstError.closest('.form-group').offset().top - 20
                     }, 500);
                 }
            }
        });

        // --- Notification System ---
        let notificationTimeout;

        function showNotification(type = 'success', message) {
            clearTimeout(notificationTimeout); // Clear previous timeout if any

            const icon = type === 'success' ? '‚úÖ' : '‚ùå';
            const notificationClass = type === 'success' ? '' : ' error';

            const notification = $(`
                <div class="notification${notificationClass}">
                  <span class="icon ${type}">${icon}</span>
                  <div class="order-info">
                    <p>${message}</p>
                  </div>
                  <button class="close" aria-label="Cerrar notificaci√≥n">&times;</button>
                </div>
            `);

            $('#notification-container').html(notification); // Replace existing notification

            // Trigger reflow to restart animation
            notification.width();

            notification.addClass('show');

            // Auto-hide after 5 seconds
            notificationTimeout = setTimeout(() => {
                hideNotification(notification);
            }, 5000);

            // Close button
            notification.find('.close').click(function() {
                clearTimeout(notificationTimeout);
                hideNotification(notification);
            });
        }

        function hideNotification(notificationElement) {
             notificationElement.removeClass('show');
             // Remove from DOM after transition
             setTimeout(() => {
                 notificationElement.remove();
             }, 400); // Match transition duration
        }

        // --- Input Formatting ---
        $('#whatsapp').on('input', function() {
            // Allow only digits
            $(this).val($(this).val().replace(/\D/g, ''));
        });

        $('#cp').on('input', function() {
            // Allow only digits (basic CP format)
            $(this).val($(this).val().replace(/\D/g, ''));
        });

      }); // End document ready
    </script>
</body>
</html>