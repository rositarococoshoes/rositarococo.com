<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Google Tag Manager (carga diferida) -->
    <script>
    window.addEventListener('load', function() {
        setTimeout(function() {
            (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
            })(window,document,'script','dataLayer','GTM-W2CVWDJ');
        }, 2000); // Retraso de 2 segundos para mejorar la carga inicial
    });
    </script>
    <!-- End Google Tag Manager -->

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Rosita Rococ√≥ - Colecci√≥n Oto√±o-Invierno 2025</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Descubre nuestra exclusiva colecci√≥n oto√±o-invierno de calzado femenino. Dise√±os elegantes y c√≥modos con env√≠o gratis a todo el pa√≠s.">

    <!-- Preconexiones para mejorar velocidad -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Preload de recursos cr√≠ticos -->
    <link rel="preload" href="rosita-form.webp" as="image">
    <link rel="preload" href="roma-negras-1.webp" as="image">

    <!-- Fonts con carga optimizada -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Lato:wght@300;400;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Lato:wght@300;400;700&display=swap">
    </noscript>

    <!-- Carousel CSS con preload para mejorar rendimiento -->
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" as="style">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">

    <!-- Custom CSS con preload para mejorar rendimiento -->
    <link rel="preload" href="otono-elegante2.css" as="style">
    <link rel="stylesheet" href="otono-elegante2.css">

    <!-- Swiper Custom CSS -->
    <link rel="preload" href="swiper-custom.css" as="style">
    <link rel="stylesheet" href="swiper-custom.css" />

    <!-- Badges and Prices CSS -->
    <link rel="preload" href="badges.css" as="style">
    <link rel="stylesheet" href="badges.css" />

    <!-- Price and Quantity Selector CSS -->
    <link rel="preload" href="price-quantity.css" as="style">
    <link rel="stylesheet" href="price-quantity.css" />

    <!-- Estilos para informaci√≥n de entrega y pago -->
    <style>
        .delivery-info, .payment-method-info {
            margin: 5px 0;
            font-size: 0.9em;
            line-height: 1.3;
        }
        .delivery-badge, .payment-badge {
            display: inline-block;
            font-weight: bold;
            margin-right: 5px;
            color: #a05941;
        }
        .delivery-date {
            text-transform: uppercase;
            font-size: 12px;
        }
        .payment-method-info {
            margin-bottom: 10px;
        }
    </style>

    <!-- Scripts optimizados para carga r√°pida -->
    <!-- Los scripts se cargar√°n al final del documento para mejorar el rendimiento -->
</head>
<body>
    <!-- Google Tag Manager (noscript) cargado de forma diferida -->
    <script>
    window.addEventListener('load', function() {
        setTimeout(function() {
            var noscript = document.createElement('noscript');
            var iframe = document.createElement('iframe');
            iframe.src = "https://www.googletagmanager.com/ns.html?id=GTM-W2CVWDJ";
            iframe.height = "0";
            iframe.width = "0";
            iframe.style.display = "none";
            iframe.style.visibility = "hidden";
            noscript.appendChild(iframe);
            document.body.appendChild(noscript);
        }, 2000);
    });
    </script>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Anti-bot Honeypot Field -->
    <input type="text" name="website" id="website" class="sr-only" tabindex="-1" autocomplete="off">

    <!-- Barra superior de beneficios -->
    <div class="top-benefits-bar">
        <div class="benefit-container">
            <div class="benefit-item">üí∏ PAGAS AL RECIBIR EN EFECTIVO</div>
            <div class="benefit-divider">|</div>
            <div class="benefit-item">üöö ENV√çO GRATIS</div>
        </div>
    </div>

    <!-- Mini Cart -->
    <div id="mini-cart">
        <div class="mini-cart-header">
            <span class="cart-icon">üõí</span>
            <span class="cart-title">Tu Carrito</span>
            <span class="cart-count">0</span>
            <button class="cart-close">√ó</button>
        </div>
        <div class="mini-cart-body">
            <p class="empty-cart-message">Tu carrito est√° vac√≠o</p>
            <div class="cart-items"></div>
            <div class="cart-instructions">
                <p class="instruction-step"><span class="step-number">1</span> Selecciona tus productos favoritos</p>
                <p class="instruction-step"><span class="step-number">2</span> Revisa tu carrito</p>
                <p class="instruction-step"><span class="step-number">3</span> Haz clic en "Finalizar Compra"</p>
            </div>
        </div>
        <div class="mini-cart-footer">
            <div class="cart-total">Total: <span>$0</span></div>
            <button id="checkout-btn" class="btn-disabled" onclick="goToCheckoutForm()">Continuar al Env√≠o ‚Üí</button>
        </div>
    </div>

    <!-- Bot√≥n de carrito independiente -->
    <div id="cart-button">
        <span class="cart-button-icon">üõí</span>
        <span class="cart-button-count">0</span>
    </div>

    <!-- Bot√≥n flotante de continuar al env√≠o -->
    <button id="fixed-checkout-button" onclick="goToCheckoutForm()" style="display: none;">
        <span class="button-content">
            <span>Continuar al Env√≠o</span>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </span>
    </button>



    <script>
        // Variables globales para optimizar rendimiento
        var floatingButton = document.getElementById('fixed-checkout-button');
        var formSection = document.getElementById('restodelform');
        var cartCountElement = document.querySelector('.cart-button-count');
        var formTopPosition = formSection ? formSection.offsetTop : 0;
        var lastScrollY = 0;
        var lastItemCount = 0;
        var buttonVisible = false;
        var scrollTimeout = null;

        // Funci√≥n optimizada para ir al formulario de env√≠o
        function goToCheckoutForm() {
            // Verificar si formSection existe
            if (!formSection) {
                formSection = document.getElementById('restodelform');
                if (!formSection) {
                    console.error('Error: No se encontr√≥ el elemento con ID "restodelform"');
                    return;
                }
            }

            // Mostrar la secci√≥n del formulario
            formSection.classList.remove('hidden');
            formSection.classList.add('active');

            // Desplazarse al formulario
            window.scrollTo({
                top: formSection.offsetTop - 20,
                behavior: 'smooth'
            });

            // Verificar si floatingButton existe
            if (floatingButton) {
                // Ocultar el bot√≥n flotante
                floatingButton.style.display = 'none';
                buttonVisible = false;
            }

            // Mostrar notificaci√≥n
            var container = document.getElementById('notification-container');
            if (container) {
                var notification = document.createElement('div');
                notification.className = 'notification info';
                notification.innerHTML = 'Completa tus datos para finalizar la compra';
                container.appendChild(notification);
                setTimeout(function() {
                    if (notification.parentNode) notification.parentNode.removeChild(notification);
                }, 5000);
            }
        }

        // Funci√≥n optimizada para actualizar la visibilidad del bot√≥n flotante
        function updateFloatingButton() {
            // Obtener el contador del carrito
            var itemCount = cartCountElement ? parseInt(cartCountElement.textContent || '0') : 0;
            var scrollY = window.scrollY || window.pageYOffset;

            // Optimizaci√≥n: solo actualizar si algo ha cambiado
            if (itemCount === lastItemCount && scrollY === lastScrollY && formTopPosition) {
                return;
            }

            // Actualizar valores
            lastItemCount = itemCount;
            lastScrollY = scrollY;

            // Obtener el estado del formulario
            var isFormActive = formSection && formSection.classList.contains('active');
            var isAboveForm = scrollY < formTopPosition - 100;

            // Mostrar u ocultar el bot√≥n seg√∫n las condiciones
            var shouldShow = itemCount > 0 && (!isFormActive || isAboveForm);

            if (shouldShow !== buttonVisible) {
                floatingButton.style.display = shouldShow ? 'block' : 'none';
                buttonVisible = shouldShow;
            }
        }

        // Optimizaci√≥n: usar requestAnimationFrame para el scroll
        window.addEventListener('scroll', function() {
            if (scrollTimeout) return;

            scrollTimeout = requestAnimationFrame(function() {
                updateFloatingButton();
                scrollTimeout = null;
            });
        });

        // Actualizar peri√≥dicamente (menos frecuente para ahorrar recursos)
        setInterval(updateFloatingButton, 2000);

        // Actualizar cuando cambia el carrito
        document.addEventListener('DOMContentLoaded', function() {
            // Inicializar posici√≥n del formulario
            formTopPosition = formSection ? formSection.offsetTop : 0;

            // Ejecutar una vez al inicio
            updateFloatingButton();
        });
    </script>

    <!-- Checkout Progress Bar -->
    <div id="checkout-progress">
        <div class="progress-step active" data-step="1">
            <span class="step-number">1</span>
            <span class="step-name">Productos</span>
        </div>
        <div class="progress-connector"></div>
        <div class="progress-step" data-step="2">
            <span class="step-number">2</span>
            <span class="step-name">Env√≠o</span>
        </div>
        <div class="progress-connector"></div>
        <div class="progress-step" data-step="3">
            <span class="step-number">3</span>
            <span class="step-name">Contrareembolso</span>
        </div>
    </div>

    <!-- WhatsApp Button Removed -->

    <div class="container">
        <header class="main-header">
            <img alt="Rosita Rococ√≥ Logo" src="rosita-form.webp" />
            <h1>Colecci√≥n Oto√±o-Invierno 2025</h1>
        </header>



        <!-- Form Start -->
        <form action="https://script.google.com/macros/s/AKfycbzGtF3OryfbupUz-8IlK1K4Ew0P0H1QSjabGnsHcswkbDzldXLWPDEdF26tLUkSjz6MSQ/exec" id="bootstrapForm" method="POST" target="_self" novalidate="">

            <!-- Hidden Fields for Google Forms -->
            <textarea id="1209868979" name="entry.1209868979" class="hidden"></textarea>
            <input name="fvv" type="hidden" value="1" />
            <input name="fbzx" type="hidden" value="5661184097173102736" />
            <input name="pageHistory" type="hidden" value="0" />
            <!-- Campos ocultos para contrareembolso.html -->
            <input type="hidden" id="1885018612" name="entry.1885018612" />
            <input type="hidden" id="1715320252" name="entry.1715320252" />
            <input type="hidden" id="736134777" name="entry.736134777" />
            <input type="hidden" id="227154461" name="entry.227154461" />
            <input type="hidden" id="1620487876" name="entry.1620487876" value="Pendiente" />

            <fieldset id="todoslosmodelos">
                <legend class="sr-only">Selecci√≥n de Modelos</legend>


                <div class="product-grid">
                    <!-- PRODUCTO 1: Roma Negras -->
                    <div class="product-item" id="modeload-roma-negras">
                        <div class="product-badges">
                            <span class="badge badge-bestseller">M√ÅS VENDIDO</span>
                            <span class="badge badge-limited">STOCK LIMITADO</span>
                        </div>
                        <h2>Botineta Roma negras</h2>
                        <div class="swiper" id="swiper-roma-negras">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide"><img alt="Botineta Roma Negras - Vista 1" src="roma-negras-1.webp" width="600" height="800" fetchpriority="high" decoding="async"></div>
                                <div class="swiper-slide"><img alt="Botineta Roma Negras - Vista 2" src="roma-negras-1a.webp" width="100%" height="auto" loading="lazy"></div>
                                <div class="swiper-slide"><img alt="Botineta Roma Negras - Vista 3" src="roma-negras-5a.webp" width="100%" height="auto" loading="lazy"></div>
                                <div class="swiper-slide"><img alt="Botineta Roma Negras - Vista 4" src="roma-negras-2a.webp" width="100%" height="auto" loading="lazy"></div>
                                <div class="swiper-slide"><img alt="Botineta Roma Negras - Vista 5" src="roma-negras-3a.webp" width="100%" height="auto" loading="lazy"></div>
                                <div class="swiper-slide"><img alt="Botineta Roma Negras - Vista 6" src="roma-negras-4a.webp" width="100%" height="auto" loading="lazy"></div>
                                <div class="swiper-slide"><img alt="Botineta Roma Negras - Vista 7" src="roma-negras-2.webp" width="100%" height="auto" loading="lazy"></div>
                            </div>
                            <div class="swiper-pagination"></div>
                            <div class="swiper-button-prev"></div>
                            <div class="swiper-button-next"></div>
                        </div>
                        <div class="product-selection" id="talles-roma-negras">
                            <div class="product-info-details">
                                <div class="product-specs">
                                    <span class="spec-item"><strong>Material:</strong> Cuero</span>
                                    <span class="spec-item"><strong>Suela:</strong> Expanso</span>
                                    <span class="spec-item"><strong>Altura:</strong> Media</span>
                                </div>
                                <p class="product-description">Un cl√°sico atemporal y vers√°til, perfecto para elevar cualquier look diario con comodidad y estilo.</p>
                            </div>
                            <div class="product-price-quantity">
                                <div class="product-promo">
                                    <div class="promo-timer">Oferta v√°lida por: <span class="countdown" id="promo-countdown-product-1">48:00:00</span></div>
                                </div>
                                <p class="quantity-selector-label">Selecciona la cantidad:</p>
                                <div class="quantity-price-selector">
                                    <label class="quantity-price-option">
                                        <input checked="checked" name="hwA-qty-roma-negras" type="radio" value="1" />
                                        <div class="option-content">
                                            <div class="option-quantity">1 par</div>
                                            <div class="option-price">$60.000</div>
                                        </div>
                                    </label>
                                    <label class="quantity-price-option">
                                        <input name="hwA-qty-roma-negras" type="radio" value="2" />
                                        <div class="option-content">
                                            <div class="option-quantity">2 pares <span class="promo-tag">OFERTA</span></div>
                                            <div class="option-price">$85.000</div>
                                            <div class="option-save">(¬°AHORRA $35.000!)</div>
                                        </div>
                                    </label>
                                </div>
                                <div class="promo-explanation">
                                    <p class="promo-note">* La oferta de 2 pares por $85.000 aplica a cualquier combinaci√≥n de modelos</p>
                                    <p class="delivery-info"><span class="delivery-badge">üöö ENV√çO GRATIS</span> Recibes tu pedido: <span class="delivery-date entregamasrapida"></span></p>
                                    <p class="payment-method-info"><span class="payment-badge">üí∏ PAGO</span> Contrareembolso en efectivo al recibir</p>
                                </div>
                            </div>
                            <div class="size-selector">
                                <fieldset id="hwA-roma-negras-1">
                                    <div class="form-group">
                                        <label for="talle-select-roma-negras-1" class="sr-only">Talle Par 1</label>
                                        <select id="talle-select-roma-negras-1" class="form-control talle">
                                            <option value="">-- Selecciona Talle Par 1 --</option>
                                            <option value="35-roma-negras">35 (23 cm de plantilla)</option>
                                            <option value="36-roma-negras">36 (23,5 cm de plantilla)</option>
                                            <option value="37-roma-negras">37 (24 cm de plantilla)</option>
                                            <option value="38-roma-negras">38 (25 cm de plantilla)</option>
                                            <option value="39-roma-negras">39 (25,5 cm de plantilla)</option>
                                            <option value="40-roma-negras">40 (26 cm de plantilla)</option>
                                        </select>
                                    </div>
                                    <button type="button" class="add-to-cart-btn" data-model="roma-negras-1">üõí Agregar al carrito</button>
                                </fieldset>
                                <fieldset class="fieldsetstalles" id="hwA-roma-negras-2">
                                    <div class="form-group">
                                        <label for="talle-select-roma-negras-2" class="sr-only">Talle Par 2</label>
                                        <select id="talle-select-roma-negras-2" class="form-control talle">
                                            <option value="">-- Selecciona Talle Par 2 --</option>
                                            <option value="35-roma-negras">35 (23 cm de plantilla)</option>
                                            <option value="36-roma-negras">36 (23,5 cm de plantilla)</option>
                                            <option value="37-roma-negras">37 (24 cm de plantilla)</option>
                                            <option value="38-roma-negras">38 (25 cm de plantilla)</option>
                                            <option value="39-roma-negras">39 (25,5 cm de plantilla)</option>
                                            <option value="40-roma-negras">40 (26 cm de plantilla)</option>
                                        </select>
                                    </div>
                                    <button type="button" class="add-to-cart-btn" data-model="roma-negras-2">üõí Agregar al carrito</button>
                                </fieldset>
                            </div>
                        </div>
                    </div>

                    <!-- PRODUCTO 2: Roma Suela -->
                    <div class="product-item" id="modeload-roma-suela">
                        <div class="product-badges">
                            <span class="badge badge-bestseller">M√ÅS VENDIDO</span>
                        </div>
                        <h2>Botineta Roma suela</h2>
                        <div class="swiper" id="swiper-roma-suela">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide"><img alt="Botineta Roma Suela - Vista 1" src="roma-suela-1a.webp" width="600" height="800" fetchpriority="high" decoding="async"></div>
                                <div class="swiper-slide"><img alt="Botineta Roma Suela - Vista 2" src="roma-suela-2a.webp" width="100%" height="auto" loading="lazy"></div>
                                <div class="swiper-slide"><img alt="Botineta Roma Suela - Vista 3" src="roma-suela-1.webp" width="100%" height="auto" loading="lazy"></div>
                                <div class="swiper-slide"><img alt="Botineta Roma Suela - Vista 4" src="roma-suela-2.webp" width="100%" height="auto" loading="lazy"></div>
                            </div>
                            <div class="swiper-pagination"></div>
                            <div class="swiper-button-prev"></div>
                            <div class="swiper-button-next"></div>
                        </div>
                        <div class="product-selection" id="talles-roma-suela">
                            <div class="product-info-details">
                                <div class="product-specs">
                                    <span class="spec-item"><strong>Material:</strong> Cuero</span>
                                    <span class="spec-item"><strong>Suela:</strong> Expanso</span>
                                    <span class="spec-item"><strong>Altura:</strong> Media</span>
                                </div>
                                <p class="product-description">El tono c√°lido ideal para complementar tus outfits de oto√±o, aportando un toque natural y sofisticado.</p>
                            </div>
                            <div class="product-price-quantity">
                                <div class="product-promo">
                                    <div class="promo-timer">Oferta v√°lida por: <span class="countdown" id="promo-countdown-product-2">48:00:00</span></div>
                                </div>
                                <p class="quantity-selector-label">Selecciona la cantidad:</p>
                                <div class="quantity-price-selector">
                                    <label class="quantity-price-option">
                                        <input checked="checked" name="hwA-qty-roma-suela" type="radio" value="1" />
                                        <div class="option-content">
                                            <div class="option-quantity">1 par</div>
                                            <div class="option-price">$60.000</div>
                                        </div>
                                    </label>
                                    <label class="quantity-price-option">
                                        <input name="hwA-qty-roma-suela" type="radio" value="2" />
                                        <div class="option-content">
                                            <div class="option-quantity">2 pares <span class="promo-tag">OFERTA</span></div>
                                            <div class="option-price">$85.000</div>
                                            <div class="option-save">(¬°AHORRA $35.000!)</div>
                                        </div>
                                    </label>
                                </div>
                                <div class="promo-explanation">
                                    <p class="promo-note">* La oferta de 2 pares por $85.000 aplica a cualquier combinaci√≥n de modelos</p>
                                    <p class="delivery-info"><span class="delivery-badge">üöö ENV√çO GRATIS</span> Recibes tu pedido: <span class="delivery-date entregamasrapida"></span></p>
                                    <p class="payment-method-info"><span class="payment-badge">üí∏ PAGO</span> Contrareembolso en efectivo al recibir</p>
                                </div>
                            </div>
                            <div class="size-selector">
                                <fieldset id="hwA-roma-suela-1">
                                    <div class="form-group">
                                        <label for="talle-select-roma-suela-1" class="sr-only">Talle Par 1</label>
                                        <select id="talle-select-roma-suela-1" class="form-control talle">
                                            <option value="">-- Selecciona Talle Par 1 --</option>
                                            <option value="35-roma-suela">35 (23 cm de plantilla)</option>
                                            <option value="36-roma-suela">36 (23,5 cm de plantilla)</option>
                                            <option value="37-roma-suela">37 (24 cm de plantilla)</option>
                                            <option value="38-roma-suela">38 (25 cm de plantilla)</option>
                                            <option value="39-roma-suela">39 (25,5 cm de plantilla)</option>
                                            <option value="40-roma-suela">40 (26 cm de plantilla)</option>
                                        </select>
                                    </div>
                                    <button type="button" class="add-to-cart-btn" data-model="roma-suela-1">üõí Agregar al carrito</button>
                                </fieldset>
                                <fieldset class="fieldsetstalles" id="hwA-roma-suela-2">
                                    <div class="form-group">
                                        <label for="talle-select-roma-suela-2" class="sr-only">Talle Par 2</label>
                                        <select id="talle-select-roma-suela-2" class="form-control talle">
                                            <option value="">-- Selecciona Talle Par 2 --</option>
                                            <option value="35-roma-suela">35 (23 cm de plantilla)</option>
                                            <option value="36-roma-suela">36 (23,5 cm de plantilla)</option>
                                            <option value="37-roma-suela">37 (24 cm de plantilla)</option>
                                            <option value="38-roma-suela">38 (25 cm de plantilla)</option>
                                            <option value="39-roma-suela">39 (25,5 cm de plantilla)</option>
                                            <option value="40-roma-suela">40 (26 cm de plantilla)</option>
                                        </select>
                                    </div>
                                    <button type="button" class="add-to-cart-btn" data-model="roma-suela-2">üõí Agregar al carrito</button>
                                </fieldset>
                            </div>
                        </div>
                    </div>

                    <!-- PRODUCTO 3: Siena 2025 -->
                    <div class="product-item" id="modeload-siena2025">
                        <div class="product-badges">
                            <span class="badge badge-limited">STOCK LIMITADO</span>
                        </div>
                        <h2>Borcego Siena 2025</h2>
                        <div class="swiper" id="swiper-siena2025">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide"><img src="siena2025-1.webp" alt="Borcego Siena 2025 - Vista 1"></div>
                                <div class="swiper-slide"><img src="siena2025-2.webp" alt="Borcego Siena 2025 - Vista 2"></div>
                            </div>
                            <div class="swiper-pagination"></div>
                            <div class="swiper-button-prev"></div>
                            <div class="swiper-button-next"></div>
                        </div>
                        <div class="product-selection" id="talles-siena2025">
                            <div class="product-info-details">
                                <div class="product-specs">
                                    <span class="spec-item"><strong>Material:</strong> Cuero</span>
                                    <span class="spec-item"><strong>Suela:</strong> Expanso</span>
                                    <span class="spec-item"><strong>Altura:</strong> Alta</span>
                                </div>
                                <p class="product-description">Robusto, chic y con car√°cter. El borcego Siena est√° listo para acompa√±arte en cualquier aventura urbana con actitud.</p>
                            </div>
                            <div class="product-price-quantity">
                                <div class="product-promo">
                                    <div class="promo-timer">Oferta v√°lida por: <span class="countdown" id="promo-countdown-product-3">48:00:00</span></div>
                                </div>
                                <p class="quantity-selector-label">Selecciona la cantidad:</p>
                                <div class="quantity-price-selector">
                                    <label class="quantity-price-option">
                                        <input checked="checked" name="hwA-qty-siena2025" type="radio" value="1" />
                                        <div class="option-content">
                                            <div class="option-quantity">1 par</div>
                                            <div class="option-price">$60.000</div>
                                        </div>
                                    </label>
                                    <label class="quantity-price-option">
                                        <input name="hwA-qty-siena2025" type="radio" value="2" />
                                        <div class="option-content">
                                            <div class="option-quantity">2 pares <span class="promo-tag">OFERTA</span></div>
                                            <div class="option-price">$85.000</div>
                                            <div class="option-save">(¬°AHORRA $35.000!)</div>
                                        </div>
                                    </label>
                                </div>
                                <div class="promo-explanation">
                                    <p class="promo-note">* La oferta de 2 pares por $85.000 aplica a cualquier combinaci√≥n de modelos</p>
                                    <p class="delivery-info"><span class="delivery-badge">üöö ENV√çO GRATIS</span> Recibes tu pedido: <span class="delivery-date entregamasrapida"></span></p>
                                    <p class="payment-method-info"><span class="payment-badge">üí∏ PAGO</span> Contrareembolso en efectivo al recibir</p>
                                </div>
                            </div>
                            <div class="size-selector">
                                <fieldset id="hwA-siena2025-1">
                                    <div class="form-group">
                                        <label for="talle-select-siena2025-1" class="sr-only">Talle Par 1</label>
                                        <select id="talle-select-siena2025-1" class="form-control talle">
                                            <option value="">-- Selecciona Talle Par 1 --</option>
                                            <option value="35-siena2025">35 (23 cm de plantilla)</option>
                                            <option value="36-siena2025">36 (23,5 cm de plantilla)</option>
                                            <option value="37-siena2025">37 (24 cm de plantilla)</option>
                                            <option value="38-siena2025">38 (25 cm de plantilla)</option>
                                            <option value="39-siena2025">39 (25,5 cm de plantilla)</option>
                                            <option value="40-siena2025">40 (26 cm de plantilla)</option>
                                        </select>
                                    </div>
                                    <button type="button" class="add-to-cart-btn" data-model="siena2025-1">üõí Agregar al carrito</button>
                                </fieldset>
                                <fieldset class="fieldsetstalles" id="hwA-siena2025-2">
                                    <div class="form-group">
                                        <label for="talle-select-siena2025-2" class="sr-only">Talle Par 2</label>
                                        <select id="talle-select-siena2025-2" class="form-control talle">
                                            <option value="">-- Selecciona Talle Par 2 --</option>
                                            <option value="35-siena2025">35 (23 cm de plantilla)</option>
                                            <option value="36-siena2025">36 (23,5 cm de plantilla)</option>
                                            <option value="37-siena2025">37 (24 cm de plantilla)</option>
                                            <option value="38-siena2025">38 (25 cm de plantilla)</option>
                                            <option value="39-siena2025">39 (25,5 cm de plantilla)</option>
                                            <option value="40-siena2025">40 (26 cm de plantilla)</option>
                                        </select>
                                    </div>
                                    <button type="button" class="add-to-cart-btn" data-model="siena2025-2">üõí Agregar al carrito</button>
                                </fieldset>
                            </div>
                        </div>
                    </div>

                    <!-- PRODUCTO 4: Venecia Negras -->
                    <div class="product-item" id="modeload-venecia-negras">
                        <h2>Venecia negras</h2>
                        <div class="swiper" id="swiper-venecia-negras">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide"><img alt="Venecia Negras - Vista 1" src="venecia-negras-1a.webp" width="600" height="800" fetchpriority="high" decoding="async"></div>
                                <div class="swiper-slide"><img alt="Venecia Negras - Vista 2" src="venecia-negras-2a.webp" width="100%" height="auto" loading="lazy"></div>
                                <div class="swiper-slide"><img alt="Venecia Negras - Vista 3" src="venecia-negras-3a.webp" width="100%" height="auto" loading="lazy"></div>
                                <div class="swiper-slide"><img alt="Venecia Negras - Vista 4" src="venecia-negras-4a.webp" width="100%" height="auto" loading="lazy"></div>
                            </div>
                            <div class="swiper-pagination"></div>
                            <div class="swiper-button-prev"></div>
                            <div class="swiper-button-next"></div>
                        </div>
                        <div class="product-selection" id="talles-venecia-negras">
                            <div class="product-info-details">
                                <div class="product-specs">
                                    <span class="spec-item"><strong>Material:</strong> Cuero</span>
                                    <span class="spec-item"><strong>Suela:</strong> Expanso</span>
                                    <span class="spec-item"><strong>Altura:</strong> Media</span>
                                </div>
                                <p class="product-description">Elegancia y comodidad en un dise√±o moderno. El modelo Venecia es perfecto para complementar tus looks m√°s sofisticados.</p>
                            </div>
                            <div class="product-price-quantity">
                                <div class="product-promo">
                                    <div class="promo-timer">Oferta v√°lida por: <span class="countdown" id="promo-countdown-product-4">48:00:00</span></div>
                                </div>
                                <p class="quantity-selector-label">Selecciona la cantidad:</p>
                                <div class="quantity-price-selector">
                                    <label class="quantity-price-option">
                                        <input checked="checked" name="hwA-qty-venecia-negras" type="radio" value="1" />
                                        <div class="option-content">
                                            <div class="option-quantity">1 par</div>
                                            <div class="option-price">$60.000</div>
                                        </div>
                                    </label>
                                    <label class="quantity-price-option">
                                        <input name="hwA-qty-venecia-negras" type="radio" value="2" />
                                        <div class="option-content">
                                            <div class="option-quantity">2 pares <span class="promo-tag">OFERTA</span></div>
                                            <div class="option-price">$85.000</div>
                                            <div class="option-save">(¬°AHORRA $35.000!)</div>
                                        </div>
                                    </label>
                                </div>
                                <div class="promo-explanation">
                                    <p class="promo-note">* La oferta de 2 pares por $85.000 aplica a cualquier combinaci√≥n de modelos</p>
                                    <p class="delivery-info"><span class="delivery-badge">üöö ENV√çO GRATIS</span> Recibes tu pedido: <span class="delivery-date entregamasrapida"></span></p>
                                    <p class="payment-method-info"><span class="payment-badge">üí∏ PAGO</span> Contrareembolso en efectivo al recibir</p>
                                </div>
                            </div>
                            <div class="size-selector">
                                <fieldset id="hwA-venecia-negras-1">
                                    <div class="form-group">
                                        <label for="talle-select-venecia-negras-1" class="sr-only">Talle Par 1</label>
                                        <select id="talle-select-venecia-negras-1" class="form-control talle">
                                            <option value="">-- Selecciona Talle Par 1 --</option>
                                            <option value="35-venecia-negras">35 (23 cm de plantilla)</option>
                                            <option value="36-venecia-negras">36 (23,5 cm de plantilla)</option>
                                            <option value="37-venecia-negras">37 (24 cm de plantilla)</option>
                                            <option value="38-venecia-negras">38 (25 cm de plantilla)</option>
                                            <option value="39-venecia-negras">39 (25,5 cm de plantilla)</option>
                                            <option value="40-venecia-negras">40 (26 cm de plantilla)</option>
                                        </select>
                                    </div>
                                    <button type="button" class="add-to-cart-btn" data-model="venecia-negras-1">üõí Agregar al carrito</button>
                                </fieldset>
                                <fieldset class="fieldsetstalles" id="hwA-venecia-negras-2">
                                    <div class="form-group">
                                        <label for="talle-select-venecia-negras-2" class="sr-only">Talle Par 2</label>
                                        <select id="talle-select-venecia-negras-2" class="form-control talle">
                                            <option value="">-- Selecciona Talle Par 2 --</option>
                                            <option value="35-venecia-negras">35 (23 cm de plantilla)</option>
                                            <option value="36-venecia-negras">36 (23,5 cm de plantilla)</option>
                                            <option value="37-venecia-negras">37 (24 cm de plantilla)</option>
                                            <option value="38-venecia-negras">38 (25 cm de plantilla)</option>
                                            <option value="39-venecia-negras">39 (25,5 cm de plantilla)</option>
                                            <option value="40-venecia-negras">40 (26 cm de plantilla)</option>
                                        </select>
                                    </div>
                                    <button type="button" class="add-to-cart-btn" data-model="venecia-negras-2">üõí Agregar al carrito</button>
                                </fieldset>
                            </div>
                        </div>
                    </div>


                </div>
                <div class="checkout-navigation product-nav-bottom">
                    <div class="shopping-instructions">
                        <p><span class="instruction-icon">üëç</span> ¬°Selecciona tus productos favoritos y agr√©galos al carrito!</p>
                    </div>

                </div>
            </fieldset>

            <!-- Testimonials Section -->
            <section class="testimonials-section">
                <h2 class="text-center">Lo que dicen nuestras clientas</h2>
                <!-- Testimonials carousel -->
                <div class="swiper" id="swiper-testimonios">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide"><img alt="Captura de comentario positivo de clienta 1" src="comentariorecibi1.webp" /></div>
                        <div class="swiper-slide"><img alt="Captura de comentario positivo de clienta 2" src="comentariorecibi2.webp" /></div>
                        <div class="swiper-slide"><img alt="Captura de comentario positivo de clienta 3" src="comentariorecibi4.webp" /></div>
                        <div class="swiper-slide"><img alt="Captura de comentario positivo de clienta 4" src="comentariorecibi5.webp" /></div>
                        <div class="swiper-slide"><img alt="Captura de comentario positivo de clienta 5" src="comentariorecibi6.webp" /></div>
                        <div class="swiper-slide"><img alt="Captura de comentario positivo de clienta 6" src="comentariorecibi7.webp" /></div>
                        <div class="swiper-slide"><img alt="Captura de comentario positivo de clienta 7" src="comentariorecibi8.webp" /></div>
                        <div class="swiper-slide"><img src="comentariosig.webp" alt="Captura de comentarios de Instagram"></div>
                        <div class="swiper-slide"><img alt="Referencia de clienta satisfecha 1" src="comentario3-min.webp" /></div>
                        <div class="swiper-slide"><img alt="Referencia de clienta satisfecha 2" src="comentario4-min.webp" /></div>
                        <div class="swiper-slide"><img alt="Referencia de clienta satisfecha 3" src="comentario5-min.webp" /></div>
                    </div>
                    <div class="swiper-pagination"></div>
                    <div class="swiper-button-prev"></div>
                    <div class="swiper-button-next"></div>
                </div>
            </section>

            <!-- Shipping and Payment Form Section -->
            <div id="restodelform" class="checkout-section hidden">
                <h2 id="datos-envio">¬°Casi listos! Completa tus datos</h2>
                <div class="checkout-steps">
                    <div class="checkout-step active" id="shipping-step">
                        <span class="step-number">1</span>
                        <span class="step-name">Informaci√≥n de Env√≠o</span>
                    </div>
                    <div class="checkout-step" id="payment-step">
                        <span class="step-number">2</span>
                        <span class="step-name">M√©todo de Pago</span>
                    </div>
                    <div class="checkout-step" id="review-step">
                        <span class="step-number">3</span>
                        <span class="step-name">Revisar y Confirmar</span>
                    </div>
                </div>

                <fieldset>
                    <legend>Resumen de tu Pedido</legend>
                    <div class="form-group">
                        <label for="286442883">Modelos y Talles Seleccionados:</label>
                        <input class="form-control" id="286442883" name="entry.286442883" readonly="readonly" type="text" placeholder="Aqu√≠ ver√°s tu selecci√≥n..." />
                        <p class="help-block">Confirma que sean los correctos antes de seguir.</p>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Informaci√≥n de Contacto</legend>
                    <div class="form-group" style="display:none;">
                        <label for="1214200077">Email</label>
                        <input class="form-control" id="1214200077" name="entry.1214200077" placeholder="tuemail@ejemplo.com" type="email" />
                        <p class="help-block">Para enviarte la confirmaci√≥n y el seguimiento de tu pedido.</p>
                    </div>
                    <div class="form-group">
                        <label for="1211347450">Nombre y Apellido <span style="color:red">*</span></label>
                        <input class="form-control" id="1211347450" name="entry.1211347450" placeholder="Quien recibe el pedido" required type="text" />
                    </div>
                    <div class="form-group">
                        <label for="501094818">WhatsApp <span style="color:red">*</span></label>
                        <input class="form-control" id="501094818" name="entry.501094818" placeholder="Ej: 1156457057 (sin 0 ni 15)" required type="tel" />
                        <!-- Error message element -->
                        <div class="error-message" data-target="501094818"></div>
                        <p class="help-block">Fundamental para coordinar el env√≠o si es necesario.</p>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Direcci√≥n de Env√≠o <span style="color:red">*</span></legend>
                    <p class="help-block" style="margin-bottom: 20px;">¬°Aseg√∫rate que sea correcta para recibir tu paquete sin problemas!</p>
                    <div class="form-group">
                        <label for="394819614">Calle y N√∫mero (Piso/Dpto)</label>
                        <input class="form-control" id="394819614" name="entry.394819614" placeholder="Ej: Av. Siempreviva 742, 3B" required type="text"/>
                    </div>
                    <div class="form-group">
                        <label for="entre-calles">Entre Calles (obligatorio)</label>
                        <input class="form-control" id="entre-calles" name="entry.entreCalles" placeholder="Ej: Entre Av. Corrientes y Lavalle" type="text" required/>
                    </div>
                    <div class="form-group">
                        <label for="183290493">C√≥digo Postal</label>
                        <input class="form-control" id="183290493" name="entry.183290493" placeholder="Ej: 1425" required type="text" />
                    </div>
                    <div class="form-group">
                        <label for="2081271241">Localidad</label>
                        <input class="form-control" id="2081271241" name="entry.2081271241" placeholder="Ej: Palermo" required type="text" />
                    </div>
                    <div class="form-group">
                        <label for="1440375758">Provincia</label>
                        <select class="form-control" id="1440375758" name="entry.1440375758" required title="Provincia">
                            <option value="">-- Selecciona tu Provincia --</option>
                            <option value="Buenos Aires">Buenos Aires</option>
                            <option value="Capital Federal">CABA</option>
                            <option value="Buenos Aires">Gran Buenos Aires</option>
                            <option value="C√≥rdoba">C√≥rdoba</option>
                            <option value="Santa F√©">Santa F√©</option>
                            <option value="Mendoza">Mendoza</option>
                            <option value="Neuqu√©n">Neuqu√©n</option>
                            <option value="Entre R√≠os">Entre R√≠os</option>
                            <option value="Catamarca">Catamarca</option>
                            <option value="Chubut">Chubut</option>
                            <option value="Salta">Salta</option>
                            <option value="Santa Cruz">Santa Cruz</option>
                            <option value="Chaco">Chaco</option>
                            <option value="Corrientes">Corrientes</option>
                            <option value="Formosa">Formosa</option>
                            <option value="La Pampa">La Pampa</option>
                            <option value="La Rioja">La Rioja</option>
                            <option value="R√≠o Negro">R√≠o Negro</option>
                            <option value="San Juan">San Juan</option>
                            <option value="San Luis">San Luis</option>
                            <option value="Santiago del Estero">Santiago del Estero</option>
                            <option value="Tucum√°n">Tucum√°n</option>
                        </select>
                    </div>

                    <!-- Hidden field for shipping method -->
                    <div class="form-group hidden">
                        <select class="form-control" id="2315500325" name="entry.17650825"><option selected value="A DOMICILIO">A DOMICILIO</option></select>
                    </div>
                </fieldset>

                <fieldset id="payment-section">
                    <legend>ENV√çO: selecciona uno de los d√≠as presentados en las opciones para recibir y asegurate que si vos no est√°s haya alguien para recibir y abonar la compra en el horario de 15hs a 22hs.<br><br> El pago es <u>s√≥lo en efectivo</u> y debes contar con todo el dinero. Vamos a contactarte por Whatsapp para confirmar el env√≠o y debes respondernos para confirmarlo o no se env√≠a.</legend>
                    <p><a href="#" class="instructions-link"><i class="fas fa-info-circle"></i> ¬øC√≥mo funciona el contrareembolso?</a></p>
                    <input type="hidden" id="comoabona" name="entry.comoabona" value="contrareembolso">
                </fieldset>

                <fieldset>
                    <legend>D√≠a y Hora estimada para entregar</legend>
                    <div class="form-group">
                        <select class="form-control" id="1756027935" name="entry.1756027935" required="" type="text" title="diayhora">
                            <!-- Las opciones se cargar√°n din√°micamente con JavaScript -->
                        </select>
                        <p class="help-block">Aseg√∫rate que si t√∫ no est√°s, haya alguien para recibir y abonar la compra en el horario de 15hs a 22hs.</p>
                    </div>
                </fieldset>

                <div id="confirma-pedido" class="review-section">
                    <h3>Revisa tu Pedido y Datos</h3>
                    <p><strong>Selecci√≥n:</strong> <span id="help-modelostallesseleccionados">-</span></p>
                    <p><strong>Nombre:</strong> <span id="help-nombre">-</span></p>
                    <p><strong>WhatsApp:</strong> <span id="help-wapp">-</span></p>
                    <p><strong>Direcci√≥n:</strong> <span id="help-calleyaltura">-</span>, <span id="help-localidad">-</span> (<span id="help-cp">-</span>), <span id="help-provincia">-</span></p>

                    <p><strong>D√≠a y Hora de Entrega:</strong> <span id="help-diayhora">-</span></p>

                    <p id="preciototal">Elige modelos y talles para ver el total</p>

                    <p style="font-size:14px;"><span style="background-color:#FFFF00;">PAG√ÅS <u>S√ìLO EN EFECTIVO AL RECIBIR</u>. SI NO DISPONES DE LA TOTALIDAD DEL EFECTIVO NO HAGAS EL PEDIDO. TU PEDIDO ES UN COMPROMISO DE PAGO.</span></p>

                    <p class="help-block">
                        ‚úì RECIBE EN: <span class="entregamasrapida"></span>. Te contactaremos para confirmar.<br>
                        ‚úì Aseg√∫rate de tener el efectivo listo para pagar al delivery.
                    </p>
                </div>

                <p class="help-block text-center" style="font-size: 0.9em; margin-top: 20px;">¬°Recuerda! Env√≠o GRATIS a todo el pa√≠s. Pagas en efectivo al recibir.</p>
                <div class="checkout-navigation">
                    <a href="#" class="text-link" id="back-to-products">‚Üê Volver a productos</a>
                    <input class="btn btn-primary" id="botoncomprar" type="submit" value="COMPRAR üõí" />
                </div>
            </div>
        </form>
        <!-- Form End -->

    </div> <!-- End Container -->

    <!-- Notification Area -->
    <div id="notification-container"></div>

    <!-- Loading Overlay -->
    <div class="loading-overlay">
        <div class="loading-spinner"></div>
        <p class="loading-message">Estamos procesando tu pedido...<br>Por favor espera, estamos registrando tu solicitud.<br><strong>No cierres ni actualices esta p√°gina.</strong></p>
    </div>

    <!-- Scripts cargados al final del documento para asegurar que jQuery est√© disponible -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.3.0/jquery.form.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/locale/es.min.js"></script>

    <!-- Custom scripts -->
    <script src="swiper-init.js"></script>
    <script src="otono-elegante2.js"></script>
    <script src="form-handler.js"></script>

    <!-- Countdown script -->
    <script>
        // Inicializar cuenta regresiva para cada producto
        document.addEventListener('DOMContentLoaded', function() {
            // Establecer la fecha de fin (48 horas desde ahora)
            const countdownElements = document.querySelectorAll('.countdown');

            // Actualizar cada segundo
            setInterval(function() {
                countdownElements.forEach(function(element) {
                    // Obtener valores actuales
                    const timeString = element.textContent;
                    const timeParts = timeString.split(':');
                    let hours = parseInt(timeParts[0]);
                    let minutes = parseInt(timeParts[1]);
                    let seconds = parseInt(timeParts[2]);

                    // Restar un segundo
                    seconds--;
                    if (seconds < 0) {
                        seconds = 59;
                        minutes--;
                        if (minutes < 0) {
                            minutes = 59;
                            hours--;
                            if (hours < 0) {
                                // Reiniciar a 48 horas cuando llegue a cero
                                hours = 48;
                                minutes = 0;
                                seconds = 0;
                            }
                        }
                    }

                    // Formatear y actualizar
                    element.textContent = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                });
            }, 1000);
        });
    </script>

    <!-- Script para el selector de fecha de env√≠o -->
    <script>
    $(document).ready(function() {
        // Obtener el d√≠a actual y la hora actual
        var today = moment();
        var currentTime = moment().format("HH:mm");

        // Obtener el d√≠a de la semana actual en formato num√©rico
        var todayNum = today.isoWeekday();

        // Definir las fechas disponibles seg√∫n el d√≠a y la hora actual
        var availableDates = [];

        if (todayNum == 1) {
          if (currentTime < "23:50") {
              availableDates.push(today.clone().add(3, "days"));
          } else {
              availableDates.push(today.clone().add(3, "days"));
          }
        } else if (todayNum == 2) {
          if (currentTime < "23:50") {
             availableDates.push(today.clone().add(2, "days"));
          } else {
            availableDates.push(today.clone().add(2, "days"));
          }
        } else if (todayNum == 3) {
          if (currentTime < "23:50") {
          availableDates.push(today.clone().add(1, "weeks").isoWeekday(4));
          } else {
          availableDates.push(today.clone().add(1, "weeks").isoWeekday(4));
          }
        } else if (todayNum == 4) {
          if (currentTime < "23:50") {
             availableDates.push(today.clone().add(1, "weeks").isoWeekday(4));
          } else {
             availableDates.push(today.clone().add(1, "weeks").isoWeekday(4));
          }
        } else if (todayNum == 5) {
          if (currentTime < "23:50") {
            availableDates.push(today.clone().add(1, "weeks").isoWeekday(4));
          } else {
            availableDates.push(today.clone().add(1, "weeks").isoWeekday(4));
          }
        } else if (todayNum == 6) {
          if (currentTime < "23:50") {
           availableDates.push(today.clone().add(1, "weeks").isoWeekday(4));
          } else {
           availableDates.push(today.clone().add(1, "weeks").isoWeekday(4));
          }
        } else {
         availableDates.push(today.clone().add(4, "days"));
        }

        // Agregar las opciones al selector de fechas
        $.each(availableDates, function(index, value) {
          // Formatear el d√≠a con la primera letra en may√∫scula
          var dayName = value.format("dddd");
          dayName = dayName.charAt(0).toUpperCase() + dayName.slice(1);
          var monthName = value.format("MMMM");
          var dayNumber = value.format("D");

          var optionText = dayName + " " + dayNumber + " de " + monthName + " de 15hs a 22hs";
          var option = $("<option></option>").attr("value", optionText).text(optionText);
          // Seleccionar autom√°ticamente la primera opci√≥n
          if (index === 0) {
            option.attr("selected", "selected");
          }
          $("#1756027935").append(option);
        });

        // establecer el estilo uppercase para las opciones
        $('#1756027935 option').css('text-transform', 'uppercase');

        // Obtener el primer valor del select (que ahora est√° seleccionado)
        var primerValor = $('#1756027935 option:selected').val();

        // Asignar el primer valor al elemento #entregamasrapida
        $('.entregamasrapida').text(primerValor).css({ 'text-transform': 'uppercase', 'font-size': '12px'});
    });
    </script>

    <!-- Script para manejar los precios y el env√≠o del formulario -->
    <script>
    $(document).ready(function() {
      // Guardar la URL actual en el campo oculto
      var fbclidpedido = window.location.href;
      $("#227154461").val(fbclidpedido);

      // Manejar cambios en los selectores de productos
      $('#todoslosmodelos select').change(function() {
        // Asegurarse de que el valor se obtenga correctamente
        var value = $('#286442883').val() || '';
        console.log('Valor actual del campo de productos:', value);

        var pairs = value.split(', '); // split the input by ", " (comma and space)

        // remove empty elements from the array
        pairs = pairs.filter(Boolean);
        console.log('Pares detectados:', pairs);

        // store the values in an array
        var values = [];
        var montoacobrar;
        var costodepares = 0;
        for (var i = 0; i < pairs.length; i++) {
          var parts = pairs[i].split('-');
          if (parts.length < 2) {
            // the input is not properly formatted, skip this pair
            continue;
          }
          var talle = parts[0].trim(); // remove leading and trailing spaces from the size value
          var modelo = parts[1];
          var color = parts.slice(2).join(' '); // use all the words as the color

          var modeloId;
          var costo;
          switch(modelo) {
            case 'roma':
              modeloId = '#4016';
              costo = 16000;
              break;
            case 'venecia':
              modeloId = '#4015';
              costo = 16000;
              break;
            case 'siena':
              modeloId = '#SIENA';
              costo = 3700;
              break;
            case 'paris':
              modeloId = '#PARIS';
              costo = 3700;
              break;
            default:
              modeloId = 'desconocido';
              break;
          }
          costodepares += costo;
          var modelosangies = 'Talle: ' + talle + ' Modelo: ' + modeloId + ' Color: ' + color;
          values.push(modelosangies);
        }

        // join the array elements with the desired separator
        var output = values.join(' || '); // use " || " as the separator between pairs

        // calcular monto a cobrar para contrareembolso
        if (pairs.length == 0) {
          montoacobrar = 0;
        } else if (pairs.length == 1) {
          montoacobrar = 60000; // Precio para 1 par en contrareembolso
        } else if (pairs.length == 2) {
          montoacobrar = 85000; // Precio para 2 pares en contrareembolso
        } else {
          montoacobrar = 0;
        }

        // asignar valores a los inputs
        $('#1885018612').val(output);
        $('#1715320252').val(montoacobrar);
        $('#736134777').val(costodepares);

        console.log('Campos ocultos actualizados:');
        console.log('1885018612 (detalles):', output);
        console.log('1715320252 (monto):', montoacobrar);
        console.log('736134777 (costo):', costodepares);
        console.log('286442883 (productos):', value);
      });

      // Tambi√©n actualizar cuando se agrega un producto al carrito
      $('.add-to-cart-btn').on('click', function() {
        setTimeout(function() {
          // Asegurarse de que el valor se sincronice correctamente
          var summaryContent = $('#286442883').val() || "";
          console.log('Valor del campo de productos despu√©s de agregar al carrito:', summaryContent);

          $('#todoslosmodelos select').trigger('change');
        }, 100);
      });

      // Verificar peri√≥dicamente si hay productos en el carrito
      setInterval(function() {
        var summaryContent = $('#286442883').val() || "";
        if (summaryContent) {
          console.log('Productos en el carrito detectados:', summaryContent);
        }
      }, 2000);
    });
    </script>

    <!-- Script para manejar el env√≠o del formulario eliminado para evitar doble posteo -->
    <!-- El env√≠o del formulario ahora se maneja exclusivamente en form-handler.js -->

    <!-- Script para manejar el caso en que el spinner se quede girando -->
    <script>
    $(document).ready(function() {
      // Establecer un temporizador para verificar si el spinner se queda girando
      $('#bootstrapForm').on('submit', function() {
        // Despu√©s de 15 segundos, verificar si el spinner sigue visible
        setTimeout(function() {
          if ($('.loading-overlay').hasClass('visible')) {
            console.log('El spinner sigue visible despu√©s de 15 segundos, intentando redireccionar manualmente');

            // Obtener los productos seleccionados
            var selectedProducts = $('#286442883').val();
            if (selectedProducts) {
              var pairs = selectedProducts.split(', ').filter(Boolean);

              // Construir la URL de redirecci√≥n
              var redirectUrl;
              if (pairs.length === 1) {
                redirectUrl = 'http://www.rositarococo.com/gracias-1par-c.html?286442883=' + encodeURIComponent(selectedProducts);
              } else if (pairs.length === 2) {
                redirectUrl = 'http://www.rositarococo.com/gracias-2pares-c.html?286442883=' + encodeURIComponent(selectedProducts);
              } else {
                redirectUrl = 'http://www.rositarococo.com/gracias-3pares.html?286442883=' + encodeURIComponent(selectedProducts);
              }

              // Mostrar un mensaje al usuario
              if (confirm('Tu pedido ha sido enviado, pero parece que hay un problema con la redirecci√≥n. ¬øQuieres ir a la p√°gina de confirmaci√≥n?')) {
                // Ocultar el spinner
                $('.loading-overlay').removeClass('visible');

                // Redireccionar
                window.location.href = redirectUrl;
              } else {
                // Si el usuario cancela, ocultar el spinner
                $('.loading-overlay').removeClass('visible');
                $('#botoncomprar').val('COMPRAR üõí').prop('disabled', false);
              }
            } else {
              // Si no hay productos seleccionados, simplemente ocultar el spinner
              $('.loading-overlay').removeClass('visible');
              $('#botoncomprar').val('COMPRAR üõí').prop('disabled', false);
            }
          }
        }, 15000);
      });
    });
    </script>

    <!-- Script para actualizar los campos de ayuda en la secci√≥n de revisi√≥n del pedido -->
    <script>
    $(document).ready(function() {
      // Actualizar los campos de ayuda cuando cambian los valores de los campos
      $("#286442883, #1211347450, #501094818, #394819614, #2081271241, #1440375758, #183290493, #1756027935").keyup(function() {
        $("#help-modelostallesseleccionados").html($("#286442883").val());
        $("#help-nombre").html($("#1211347450").val());
        $("#help-wapp").html($("#501094818").val());
        $("#help-calleyaltura").html($("#394819614").val());
        $("#help-localidad").html($("#2081271241").val());
        $("#help-provincia").html($("#1440375758").val());
        $("#help-cp").html($("#183290493").val());

      });

      // Tambi√©n actualizar cuando cambia el selector de fecha
      $("#1756027935").change(function() {
        $("#help-diayhora").html($("#1756027935").val());
      });
    });
    </script>

    <!-- Script para instrucciones de contrareembolso -->
    <script>
    $(document).ready(function() {
      // El enlace de instrucciones ya est√° incluido en el HTML

      // Script de depuraci√≥n para verificar que los productos se agreguen correctamente
      console.log("Inicializando script de depuraci√≥n para contrareembolso");

      // Agregar un manejador para el formulario que asegure la redirecci√≥n
      $('#bootstrapForm').on('submit', function() {
        // Guardar los productos seleccionados en localStorage para recuperarlos si hay problemas
        var selectedProducts = $('#286442883').val();
        if (selectedProducts) {
          localStorage.setItem('selectedProducts', selectedProducts);
          console.log('Productos guardados en localStorage:', selectedProducts);

          // Establecer un temporizador para verificar si la redirecci√≥n no ocurri√≥
          localStorage.setItem('formSubmitTime', Date.now());
        }
      });

      // Verificar si hubo un env√≠o previo que no redireccion√≥
      var lastSubmitTime = localStorage.getItem('formSubmitTime');
      if (lastSubmitTime) {
        var currentTime = Date.now();
        var timeDiff = currentTime - parseInt(lastSubmitTime);

        // Si han pasado m√°s de 10 segundos desde el √∫ltimo env√≠o, intentar redireccionar manualmente
        if (timeDiff > 10000) {
          console.log('Detectado env√≠o previo sin redirecci√≥n, intentando redireccionar manualmente');

          var savedProducts = localStorage.getItem('selectedProducts');
          if (savedProducts) {
            var pairs = savedProducts.split(', ').filter(Boolean);
            console.log('Productos recuperados:', pairs);

            // Construir la URL de redirecci√≥n
            var redirectUrl;
            if (pairs.length === 1) {
              redirectUrl = 'http://www.rositarococo.com/gracias-1par-c.html?286442883=' + encodeURIComponent(savedProducts);
            } else if (pairs.length === 2) {
              redirectUrl = 'http://www.rositarococo.com/gracias-2pares-c.html?286442883=' + encodeURIComponent(savedProducts);
            } else {
              redirectUrl = 'http://www.rositarococo.com/gracias-3pares.html?286442883=' + encodeURIComponent(savedProducts);
            }

            // Mostrar un mensaje al usuario
            if (confirm('Parece que tu pedido fue enviado correctamente, pero hubo un problema con la redirecci√≥n. ¬øQuieres ir a la p√°gina de confirmaci√≥n?')) {
              // Limpiar el localStorage
              localStorage.removeItem('formSubmitTime');
              localStorage.removeItem('selectedProducts');

              // Redireccionar
              window.location.href = redirectUrl;
            } else {
              // Si el usuario cancela, limpiar solo el tiempo de env√≠o
              localStorage.removeItem('formSubmitTime');
            }
          }
        }
      }

      // Verificar el valor inicial del campo de productos
      console.log("Valor inicial del campo de productos:", $("#286442883").val());

      // Monitorear cambios en el campo de productos
      $("#286442883").on('change', function() {
        console.log("Campo de productos actualizado:", $(this).val());
      });

      // Monitorear clics en los botones de agregar al carrito
      $('.add-to-cart-btn').on('click', function() {
        var modelId = $(this).data('model');
        console.log("Bot√≥n de agregar al carrito clickeado:", modelId);

        // Verificar si se encuentra el selector de talle
        var $select;
        if (modelId.includes('-1') || modelId.includes('-2')) {
          // Si el ID incluye -1 o -2 (para el primer o segundo par)
          $select = $('#talle-select-' + modelId);
          if ($select.length === 0) {
            // Intentar encontrar el selector dentro del fieldset correspondiente
            var fieldsetId = 'hwA-' + modelId;
            $select = $('#' + fieldsetId + ' select.talle');
          }
        } else {
          // Fallback para buscar cualquier selector con ese modelo
          $select = $('select.talle[id*="' + modelId + '"]').first();
        }

        // Si a√∫n no encontramos el selector, buscar dentro del bot√≥n que se hizo clic
        if ($select.length === 0) {
          $select = $(this).closest('fieldset').find('select.talle');
        }

        console.log("Selector encontrado:", $select.length > 0 ? "S√≠" : "No");
        if ($select.length > 0) {
          console.log("Valor del selector:", $select.val());
        }
      });

      // Verificar todos los selectores de talle
      $('#todoslosmodelos select.talle').each(function() {
        console.log("Selector de talle encontrado:", $(this).attr('id'));
      });

      // Verificar todos los botones de agregar al carrito
      $('.add-to-cart-btn').each(function() {
        console.log("Bot√≥n de agregar al carrito:", $(this).data('model'));
      });

      // Agregar un manejador de eventos directo para los botones de agregar al carrito
      $(document).on('click', '.add-to-cart-btn', function() {
        var modelId = $(this).data('model');
        console.log("Bot√≥n clickeado directamente:", modelId);

        // Obtener el selector de talle correspondiente
        var $select = $('#talle-select-' + modelId);
        console.log("Selector encontrado:", $select.length > 0 ? "S√≠" : "No");

        if ($select.length > 0) {
          var selectedValue = $select.val();
          console.log("Valor seleccionado:", selectedValue);

          if (selectedValue) {
            // Actualizar manualmente el campo de productos
            var currentValue = $('#286442883').val() || "";
            var productsArray = currentValue.split(', ').filter(Boolean);

            // Agregar el nuevo valor si no existe
            if (!productsArray.includes(selectedValue)) {
              productsArray.push(selectedValue);
              var newValue = productsArray.join(', ');
              $('#286442883').val(newValue);
              console.log("Campo de productos actualizado manualmente:", newValue);
            }
          }
        }
      });
    });
      $('body').append(`
        <div id="instructions-popover" style="display: none;">
          <!-- Capa transparente que cubre toda la pantalla -->
          <div id="overlay"></div>

          <!-- Contenido del pop-over -->
          <div>
            <h2 style="font-size: 1.1em;font-weight: bold;margin-bottom: 20px;">INSTRUCCIONES IMPORTANTES</h2>
            <p style="text-align: left;">1) Apenas realices tu pedido te contactaremos por Whatsapp para confirmar el d√≠a y hora de entrega. Debes confirmar para que lo enviemos.</p>
            <p style="text-align: left;">2) Procura ya tener el efectivo disponible al momento de llegar el delivery para pagar r√°pidamente en la puerta de tu domicilio. Por cuestiones de seguridad no puedes hacer esperar a qui√©n te entrega.</p>
            <p style="text-align: left;">3) No se puede abrir el paquete ni hacer pruebas de talle en la puerta. El delivery llega, entrega, cobra y se va ya que es un servicio externo a nosotros. Si luego necesitas cambiar por talle ponte en contacto con nosotros que te enviamos el cambio sin costo.</p>
          </div>
        </div>
      `);

      // Agregar estilos para el pop-over
      $('<style>').text(`
        #instructions-popover {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          z-index: 9999;
        }
        #overlay {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.7);
        }
        #instructions-popover > div:nth-child(2) {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background-color: white;
          padding: 20px;
          border-radius: 5px;
          max-width: 90%;
          width: 500px;
        }
        .instructions-link {
          color: #0066cc;
          text-decoration: underline;
        }
      `).appendTo('head');

      // Mostrar pop-over al hacer clic en el enlace
      $(document).on("click", ".instructions-link", function(event) {
        event.preventDefault();
        $("#instructions-popover").show();
      });

      // Ocultar pop-over al hacer clic en la capa transparente
      $("#overlay").on("click", function() {
        $("#instructions-popover").hide();
      });

    </script>

</body>
</html>