$(document).ready(function(){var e=[],t=1,a=3;function n(e){$("#checkout-progress-bar").css("width",e/a*100+"%");$(".checkout-step").removeClass("active completed");for(var t=1;t<=a;t++)t<e?$(".checkout-step[data-step='"+t+"']").addClass("completed"):t===e&&$(".checkout-step[data-step='"+t+"']").addClass("active")}function o(){$("#cart-button").css({display:"flex",visibility:"visible",opacity:"1","z-index":"9999"});$(".mini-cart-tab").css({display:"flex",visibility:"visible",opacity:"1","z-index":"9999"});$("#cart-button").hasClass("animated")||$("#cart-button").addClass("animated");$(".cart-button-count").text($(".cart-count").text());if(e.length>0){var t=$("#restodelform"),a=$(window).scrollTop(),n=a+$(window).height(),o=!1;if(t.length>0){var i=t.hasClass("active")||!t.hasClass("hidden");if(i){var s=t.offset().top,r=s+t.outerHeight();o=s>=a&&s<=n||r>=a&&r<=n||s<=a&&r>=n||s-n<200&&s>n||a-r<200&&a>r}o=o||i}o?$("#fixed-checkout-button").css("display","none").addClass("hidden"):$("#fixed-checkout-button").css({display:"block",visibility:"visible",opacity:"1","z-index":"9999"}).removeClass("hidden")}else $("#fixed-checkout-button").css("display","none").addClass("hidden")}function i(){if(e.length>0){restOfForm.removeClass("hidden inactive").addClass("active");var t=$("#datos-envio").offset().top,a=$(window).scrollTop(),n=$(window).height(),o=a+n,i=t>=a&&t<=o;a<t&&!i?$("#fixed-checkout-button").css({display:"block",visibility:"visible",opacity:"1"}):$("#fixed-checkout-button").css({display:"none",visibility:"hidden",opacity:"0"})}else restOfForm.addClass("hidden").removeClass("active"),$("#fixed-checkout-button").css({display:"none",visibility:"hidden",opacity:"0"})}function s(t){var a=$("#1471599855"),n=$(".cart-items"),o=$(".cart-count"),i=$(".cart-total span"),s=$("#checkout-btn"),r=$("#restodelform"),c=t.length;e=[];for(var l=0;l<c;l++){var d=t[l],p=d.split("-"),u=p[0],f=p.slice(1).join("-"),m={id:l+1,size:u,model:f};e.push(m)}o.text(c);n.empty();if(c>0){$(".empty-cart-message").hide();for(var v=0;v<c;v++){var h=e[v],g=$("<div>").addClass("cart-item").attr("data-id",h.id),b=$("<div>").addClass("cart-item-details"),y=$("<div>").addClass("cart-item-name").text("Talle "+h.size+" - "+h.model),w=$("<button>").addClass("remove-item").html("&times;").attr("data-id",h.id);b.append(y);g.append(b).append(w);n.append(g)}$(".remove-item").on("click",function(){var e=$(this).data("id"),n=a.val().split(", "),o=[];for(var i=0;i<n.length;i++)i+1!==e&&o.push(n[i]);a.val(o.join(", "));$("#help-modelostallesseleccionados").text(a.val()||"-");s.removeClass("btn-disabled").text("Finalizar Compra");t.length>0?r.removeClass("hidden inactive").addClass("active"):r.addClass("hidden").removeClass("active");updateCart(o)})}else{$(".empty-cart-message").show();s.addClass("btn-disabled").text("Carrito vac√≠o")}var C=0;if(1===c){C=7e4;i.text("$70.000")}else if(2===c){C=11e4;i.text("$110.000")}else i.text("$0");return c}function r(t){var a,n;if(t.includes("-1")||t.includes("-2")){if(0===(a=$("#talle-select-"+t)).length){var o="hwA-"+t;a=$("#"+o+" select.talle")}}else a=$("select.talle[id*='"+t+"']").first();0===a.length&&(a=$(".add-to-cart-btn[data-model='"+t+"']").closest("fieldset").find("select.talle"));var i=a.closest(".product-item"),r=a.val(),c=a.data("pre")||"";if(!r)return alert("Por favor, selecciona un talle antes de agregar al carrito"),a.length>0&&a.focus(),!1;if(0===a.length)return console.error("No se encontr√≥ el selector para el modelo:",t),alert("Error al agregar al carrito. Por favor, intenta de nuevo."),!1;var l=summaryInput.val()||"",d=l.split(", ").filter(Boolean);if(d.includes(r))return showNotification("Este producto ya est√° en tu carrito","info"),!1;c&&(d=d.filter(function(e){return e!==c}));d.push(r);a.closest(".form-group").prepend('<p class="avisoagregado">¬°Agregado a tu pedido!</p>');if(d.length>2)return alert("Puedes seleccionar un m√°ximo de 2 pares. Por favor, revisa tu selecci√≥n."),d=d.filter(function(e){return e!==r}),a.closest(".form-group").find(".avisoagregado").remove(),!1;a.data("pre",r);summaryInput.val(d.join(", "));var p=summaryInput.val();$("#help-modelostallesseleccionados").text(p||"-");updateCart(d);var u=d.length,f="Elige tus modelos y talles para ver el total",m=0;if(u>=1)if(checkoutBtn.removeClass("btn-disabled").text("Finalizar Compra"),1===u){m=7e4;f='TOTAL: <span class="price">üî• $<span class="preciototalaobservar" data-original-price="70000">70.000</span> x 1 par</span> + <span class="shipping">ENV√çO GRATIS</span> <br><small>¬°A√±ade otro par por solo $55.000!</small>';restOfForm.removeClass("hidden inactive").addClass("active");showNotification("¬°Producto agregado! Completa tus datos para finalizar la compra.","success")}else if(2===u){m=11e4;f='TOTAL: <span class="price">üî• $<span class="preciototalaobservar" data-original-price="110000">110.000</span> x 2 pares</span> + <span class="shipping">ENV√çO GRATIS</span> <br><small>¬°Excelente precio ($55.000 c/u)!</small>';r&&""===c&&2===d.length&&(showNotification("¬°Genial! Has completado tu selecci√≥n de 2 pares. Completa tus datos para finalizar la compra.","success"),restOfForm.removeClass("hidden inactive").addClass("active"))}else f="Has seleccionado m√°s de 2 pares. Revisa tu selecci√≥n.";else m=0,f="Elige tus modelos y talles para ver el total",checkoutBtn.addClass("btn-disabled").text("Carrito vac√≠o"),restOfForm.addClass("hidden").removeClass("active");return $("#preciototal").html(f),$("#comoabona").trigger("change"),showNotification("¬°Producto agregado al carrito!","success"),i(),!0}n(t);o();setTimeout(o,500);setTimeout(o,1e3);setTimeout(o,2e3);setTimeout(o,3e3);setTimeout(i,500);$(window).on("scroll resize",i);setInterval(i,500);setTimeout(function(){$("#cart-button").addClass("pulse-once");setTimeout(function(){$("#cart-button").removeClass("pulse-once")},1e3)},3e3);$(window).scroll(function(){$(window).scrollTop()>300?$("#checkout-progress").addClass("visible"):$("#checkout-progress").removeClass("visible");if(e.length>0){var t=$("#restodelform"),a=$(window).scrollTop(),n=a+$(window).height(),o=!1;if(t.length>0){var i=t.hasClass("active")||!t.hasClass("hidden");if(i){var s=t.offset().top,r=s+t.outerHeight();o=s>=a&&s<=n||r>=a&&r<=n||s<=a&&r>=n||s-n<200&&s>n||a-r<200&&a>r}o=o||i}o?$("#fixed-checkout-button").css("display","none").addClass("hidden"):$("#fixed-checkout-button").css({display:"block",visibility:"visible",opacity:"1","z-index":"9999"}).removeClass("hidden")}else $("#fixed-checkout-button").css("display","none").addClass("hidden")});["roma-negras","roma-suela","siena2025","venecia-negras"].forEach(function(e){$("input[name='hwA-qty-"+e+"']").click(function(){var t=parseInt($(this).val()),a=$(this).closest(".product-selection");2===t?a.find("fieldset#hwA-"+e+"-2").slideDown("fast"):(a.find("fieldset#hwA-"+e+"-2").slideUp("fast"),a.find("fieldset#hwA-"+e+"-2 select.talle").val(""),a.find("fieldset#hwA-"+e+"-2 select.talle").trigger("change"))})});$(".add-to-cart-btn").on("click",function(){var e=$(this).data("model"),t=$("#talle-select-"+e);if(r(e)){$("#cart-button").addClass("pulse-once");setTimeout(function(){$("#cart-button").removeClass("pulse-once")},1e3)}});var summaryInput=$("#1471599855"),miniCart=$("#mini-cart"),cartItemsContainer=$(".cart-items"),cartCountElement=$(".cart-count"),cartTotalElement=$(".cart-total span"),checkoutBtn=$("#checkout-btn"),restOfForm=$("#restodelform");$("#todoslosmodelos select.talle").change(function(){var e=$(this).closest(".product-item"),t=$(this),a=t.val(),n=t.data("pre")||"";t.data("pre",a);e.find(".avisoagregado").remove()});$("#todoslosmodelos select.talle").data("pre","");$("#floating-continue-to-checkout, #fixed-checkout-button").on("click",function(e){e.preventDefault();if(cartItems.length>0){restOfForm.removeClass("hidden inactive").addClass("active");window.scrollTo({top:$("#datos-envio").offset().top-80,behavior:"smooth"});currentStep=2;updateCheckoutProgress(currentStep)}});$(".checkout-step").on("click",function(){var e=parseInt($(this).data("step"));if(e<=currentStep){currentStep=e;updateCheckoutProgress(currentStep);$(".form-step").removeClass("active");$("#step-"+currentStep).addClass("active")}});$(".next-step").on("click",function(){if(currentStep<a){currentStep++;updateCheckoutProgress(currentStep);$(".form-step").removeClass("active");$("#step-"+currentStep).addClass("active");window.scrollTo({top:$("#datos-envio").offset().top-80,behavior:"smooth"})}});$(".prev-step").on("click",function(){if(currentStep>1){currentStep--;updateCheckoutProgress(currentStep);$(".form-step").removeClass("active");$("#step-"+currentStep).addClass("active");window.scrollTo({top:$("#datos-envio").offset().top-80,behavior:"smooth"})}});$("#comoabona").on("change",function(){var e=$(this).val(),t=$("#preciototal .preciototalaobservar"),a=parseInt(t.data("original-price")),n=a;if("transferencia"===e){n=Math.round(.9*a);t.text(n.toLocaleString("es-AR").replace(",","."))}else t.text(a.toLocaleString("es-AR").replace(",","."))});function c(e,t){var a=$("#notification-container");if(!a.length){a=$("<div>").attr("id","notification-container");$("body").append(a)}var n=$("<div>").addClass("notification "+t).html(e);a.append(n);setTimeout(function(){n.addClass("show")},10);setTimeout(function(){n.removeClass("show");setTimeout(function(){n.remove()},300)},5e3)}function l(){$(".countdown").each(function(){var e=$(this),t=e.text().split(":"),a=parseInt(t[0]),n=parseInt(t[1]),o=parseInt(t[2]);if(0===a&&0===n&&0===o)return e.text("¬°Oferta finalizada!");o--;if(o<0){o=59;n--}if(n<0){n=59;a--}if(a<0){a=0;n=0;o=0}e.text(a.toString().padStart(2,"0")+":"+n.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0"))})}setInterval(l,1e3);var d=new Swiper("#swiper-roma-negras",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},preloadImages:!1,lazy:!0,speed:600,effect:"slide"}),p=new Swiper("#swiper-roma-suela",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},preloadImages:!1,lazy:!0,speed:600,effect:"slide"}),u=new Swiper("#swiper-siena2025",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},preloadImages:!1,lazy:!0,speed:600,effect:"slide"}),f=new Swiper("#swiper-venecia-negras",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},preloadImages:!1,lazy:!0,speed:600,effect:"slide"}),m=new Swiper("#swiper-testimonios",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},preloadImages:!1,lazy:!0,speed:600,effect:"slide",autoplay:{delay:5e3,disableOnInteraction:!1}});window.updateCart=s;window.showNotification=c});
